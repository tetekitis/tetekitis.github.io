if (self.CavalryLogger) { CavalryLogger.start_js(["h3LTY"]); }

__d("FeedPlaceHolderStory.react",["cx","Locale","React","XUICard.react","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";return b("React").createElement(b("XUICard.react"),{className:b("joinClasses")("_2iwp",this.props.className)},b("React").createElement("div",{className:(b("Locale").isRTL()?"direction_rtl":"")+" _2iwo"},b("React").createElement("div",{className:"_2iwq"},b("React").createElement("div",{className:"_2iwr"}),b("React").createElement("div",{className:"_2iws"}),b("React").createElement("div",{className:"_2iwt"}),b("React").createElement("div",{className:"_2iwu"}),b("React").createElement("div",{className:"_2iwv"}),b("React").createElement("div",{className:"_2iww"}),b("React").createElement("div",{className:"_2iwx"}),b("React").createElement("div",{className:"_2iwy"}),b("React").createElement("div",{className:"_2iwz"}),b("React").createElement("div",{className:"_2iw-"}),b("React").createElement("div",{className:"_2iw_"}),b("React").createElement("div",{className:"_2ix0"}))))};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("GroupSellInterestP2PQPListItems.react",["fbt","ix","Image.react","P2PListRow.react","P2PText.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.renderRow=function(a,c){return b("React").createElement(b("P2PListRow.react"),{offset:"large"},b("React").createElement(b("Image.react"),a),b("React").createElement(b("P2PText.react"),{type:"primary"},c))},c}a.prototype.render=function(){return b("React").createElement("div",null,this.renderRow({height:29,src:h("94399"),width:32},g._("Envoyez un message au vendeur pour poser des questions et organiser la logistique.")),this.renderRow({height:43,src:h("94404"),width:28},g._("Payez votre article de mani\u00e8re s\u00e9curis\u00e9e et sans frais \u00e0 partir de vos messages.")),this.renderRow({height:22,src:h("94402"),width:32},g._("L\u2019argent sera directement transf\u00e9r\u00e9 de votre carte de d\u00e9bit \u00e0 la sienne.")))};e.exports=a}),null);
__d("GroupSellInterestP2PQPDialog.react",["cx","fbt","GroupSellInterestP2PQPListItems.react","MessengerEnvironment","P2PDialog.react","P2PDialogBody.react","P2PDialogFooter.react","P2PDialogTitle.react","P2PEncryptedText.react","P2PLogger","P2PNUXNextButton.react","P2PPaymentLoggerEvent","P2PPaymentLoggerEventFlow","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.log=function(a,c){b("P2PLogger").log(a,babelHelpers["extends"]({www_event_flow:b("P2PPaymentLoggerEventFlow").UI_FLOW_GROUP_SELL_INTEREST_DIALOG},this.props.loggingData,c))}.bind(this),this.handleNextClick=function(){this.log(b("P2PPaymentLoggerEvent").UI_ACTN_GROUP_SELL_INTEREST_QP_DIALOG_NEXT_CLICK),this.props.onNextClick()}.bind(this),c}a.prototype.componentDidMount=function(){this.log(b("P2PPaymentLoggerEvent").UI_ACTN_GROUP_SELL_INTEREST_QP_DIALOG_SHOWN)};a.prototype.render=function(){return b("React").createElement(b("P2PDialog.react"),{width:this.props.width},b("React").createElement(b("P2PDialogTitle.react"),null,h._("Parlez au vendeur et envoyez votre r\u00e8glement \u00e0 partir de vos messages")),b("React").createElement(b("P2PDialogBody.react"),{className:"_2pi1"},b("React").createElement(b("GroupSellInterestP2PQPListItems.react"),null)),b("React").createElement(b("P2PDialogFooter.react"),{leftContent:b("React").createElement("div",{className:"_2pic"},b("React").createElement(b("P2PEncryptedText.react"),null))},b("React").createElement(b("P2PNUXNextButton.react"),{onNextClick:this.handleNextClick})))};a.propTypes={onNextClick:c.func.isRequired,width:c.number};a.defaultProps={width:b("MessengerEnvironment").messengerui?400:350};e.exports=a}),null);
__d("P2PBannerType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({REQUEST_SENDER_NUX:"REQUEST_SENDER_NUX",SENDER_NUX:"SENDER_NUX",C2C_DIALOG_QP:"C2C_DIALOG_QP"})}),null);
__d("XGroupSellPostInterestController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/sell/interest/",{})}),null);
__d("XShareDialogMessageSuggestionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/sale_group_suggestion/",{for_sale_item:{type:"FBID"}})}),null);
__d("XShareDialogWithSaleGroupThreadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/sale_group_threads/",{surface:{type:"String"},for_sale_item:{type:"FBID"},initial_message:{type:"String"}})}),null);
__d("GroupSellInterestDialog.react",["ix","cx","fbt","AsyncRequest","BackgroundImage.react","ContextualLayerUpdateOnScroll","CurrentUser","GroupSellInterestP2PQPDialog.react","GroupSellNUX","Image.react","LayerFadeOnShow","LayerHideOnBlur","LayerHideOnTransition","LineClamp.react","P2PAmountUtils","P2PAPI","P2PBannerType","P2PErrorDialog.react","P2PLoadingMask.react","P2PLogger","P2PPaymentLoggerEvent","P2PPaymentLoggerEventFlow","React","ReactLayeredComponentMixin_DEPRECATED","ShareDataType","ShareDialogAudienceTypes","Token.react","XGroupSellPostInterestController","XShareDialogMessageSuggestionController","XShareDialogSubmitController","XShareDialogWithSaleGroupThreadController","XUIAmbientNUX.react","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIGrayText.react","fbglyph"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a=b("React").PropTypes;var j=500,k=!1,l=!1,m={regular:"regular",expanded:"expanded"},n=[i._("Cet article m\u2019int\u00e9resse."),i._("Cet article est-il toujours disponible\u00a0?"),i._("Dans quel \u00e9tat est cet objet\u00a0?"),i._("Assurez-vous la livraison\u00a0?"),i._("J\u2019aimerais planifier un essai sur route.")];c=b("React").createClass({displayName:"GroupSellInterestDialog",mixins:[b("ReactLayeredComponentMixin_DEPRECATED")],propTypes:{action:a.object.isRequired,loggedOut:a.object.isRequired,item:a.object.isRequired,shareData:a.object.isRequired,postURI:a.string.isRequired,postID:a.string.isRequired,showNux:a.bool,showP2PQPDialog:a.bool,seller:a.object.isRequired,surface:a.string.isRequired,style:a.string.isRequired,usesCommerceThreads:a.bool,showMessageSuggestions:a.bool,tracking:a.string},getInitialState:function(){var a=!1,c=b("P2PAmountUtils").isAmountOverLegalLimit(this.props.item.price);this.props.showNux&&!k&&!c&&(k=!0,a=!0);return{messageSuggestion:[],chatFieldContent:this.getDefaultContent(),error:null,loading:!1,nuxShown:a,qpWasShown:!1,showDialog:!1,p2pQPDialogShown:!1}},log:function(a){b("P2PLogger").log(a,{www_event_flow:b("P2PPaymentLoggerEventFlow").UI_FLOW_GROUP_SELL_INTEREST_DIALOG,object_id:this.props.postID,seller_id:this.props.seller.id,surface:this.props.surface})},getDefaultContent:function(){return i._("Bonjour, je voudrais acheter votre {name of item being sold}.",[i._param("name of item being sold",this.props.item.name)]).toString()},handleMessageSellerClicked:function(a){this.log(b("P2PPaymentLoggerEvent").UI_ACTN_GROUP_SELL_INTEREST_MESSAGE_SELLER_CLICK);a.preventDefault();this.markInterest(this.props.action.contactButtonClicked);a=!1;this.props.showP2PQPDialog&&!l&&!b("P2PAmountUtils").isAmountOverLegalLimit(this.props.item.price)&&(l=!0,a=!0,b("P2PAPI").incrementBannerViews(b("P2PBannerType").C2C_DIALOG_QP));this.setState({showDialog:!a,p2pQPDialogShown:a,qpWasShown:a});this.state.nuxShown&&(b("GroupSellNUX").markAsSeen("p2p_chat_to_buy"),this.setState({nuxShown:!1}));this.props.showMessageSuggestions&&this.fetchMessageSuggestions()},fetchMessageSuggestions:function(){var a=b("XShareDialogMessageSuggestionController").getURIBuilder().setFBID("for_sale_item",this.props.item.for_sale_item_id.toString()).getURI();new(b("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(a){a=a.getPayload().messageSuggestions;this.setState({messageSuggestion:a})}.bind(this)).setErrorHandler(function(a){this.setState({messageSuggestion:n})}.bind(this)).send()},handleErrorOKClick:function(){this.setState({error:null})},handleToggle:function(a){a||this.setState({chatFieldContent:this.getDefaultContent(),showDialog:!1})},handleSendMessageClicked:function(){this.log(b("P2PPaymentLoggerEvent").UI_ACTN_GROUP_SELL_INTEREST_MESSAGE_SEND_CLICK);this.setState({loading:!0});var a=this.props.seller.owningPageID?this.props.seller.owningPageID:this.props.seller.id,c=this.props.seller.originalProductID?this.props.seller.originalProductID:this.props.postID,d=this.props.seller.owningPageID?b("ShareDataType").FB_COMMERCE_PRODUCT_ITEM:this.props.shareData.shareType,e;this.props.usesCommerceThreads?e=b("XShareDialogWithSaleGroupThreadController").getURIBuilder().setFBID("for_sale_item",this.props.item.for_sale_item_id.toString()).setString("initial_message",this.state.chatFieldContent).setString("surface",this.props.surface).getURI():e=b("XShareDialogSubmitController").getURIBuilder().setInt("post_id",c).setInt("owner_id",this.props.shareData.ownerID).setInt("share_type",d).setInt("shared_to_group_id",this.props.seller.sharedToGroupID).setIntVector("audience_targets",[a]).setStringVector("messaging_tags",this.props.shareData.messagingTags).setString("message",this.state.chatFieldContent).setString("audience_type",b("ShareDialogAudienceTypes").MESSAGE).getURI();this.sendMessage(e)},sendMessage:function(a){new(b("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(a){this.setState({loading:!1,showDialog:!1})}.bind(this)).setErrorHandler(function(a){this.setState({error:{message:i._("Une erreur est survenue. Veuillez r\u00e9essayer plus tard.")},loading:!1})}.bind(this)).send()},markInterest:function(a){var c=b("XGroupSellPostInterestController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(c).setMethod("POST").setData({post_id:this.props.postID,action:a,surface:this.props.surface,tracking:[this.props.tracking]}).send()},handleChatFieldContentChanged:function(event){this.setState({chatFieldContent:event.target.value})},renderChatArea:function(){return b("React").createElement("div",{className:"_5wh_"},b("React").createElement("textarea",{onChange:this.handleChatFieldContentChanged,placeholder:i._("\u00c9crire un message..."),value:this.state.chatFieldContent}))},renderSendToSellerField:function(){var a=this.props.seller.owningPageName?this.props.seller.owningPageName:this.props.seller.name;return b("React").createElement("div",{className:"_5wi1"},i._("\u00c0\u00a0:")," ",b("React").createElement(b("Token.react"),{className:"_5wi2",label:a}))},renderItemImage:function(){return!this.props.item.image?null:b("React").createElement("div",{className:"_5wi3"},b("React").createElement(b("BackgroundImage.react"),{backgroundPosition:"50% 50%",backgroundSize:"cover",height:70,src:this.props.item.image,width:70}))},renderSuggestions:function(){var a=this;if(!this.props.showMessageSuggestions)return null;var c=this.state.messageSuggestion,d=[],e=function(e){d.push(b("React").createElement(b("XUIButton.react"),{className:"_60g_",label:c[e],onClick:function(){this.setState({chatFieldContent:c[e]})}.bind(a)}))};for(var f=0;f<c.length;f++)e(f);return b("React").createElement("div",{className:"_60h0"},d)},renderItemInfo:function(){return b("React").createElement("div",{className:"_5wi4"},this.renderItemImage(),b("React").createElement("div",{className:"_5wi5"},b("React").createElement("div",{className:"_5wio"},this.props.item.name),b("React").createElement("div",{className:"_5wip"},this.props.item.price),b("React").createElement("div",{className:"_60hf"},this.props.item.location),b("React").createElement(b("LineClamp.react"),{lines:3},this.props.item.description)))},renderStartChatDialog:function(){return b("React").createElement(b("XUIDialog.react"),{behaviors:{LayerFadeOnShow:this.state.qpWasShown?!1:b("LayerFadeOnShow")},onToggle:this.handleToggle,shown:!0,width:j},b("React").createElement(b("XUIDialogTitle.react"),null,i._("Nouveau message")),b("React").createElement(b("XUIDialogBody.react"),{className:"_5wiu"},this.renderSendToSellerField(),this.renderChatArea(),this.renderSuggestions(),this.renderItemInfo()),b("React").createElement(b("XUIDialogFooter.react"),{leftContent:b("React").createElement(b("XUIGrayText.react"),{shade:"light",size:"meta1"},i._("V\u00e9rifiez votre achat avant d\u2019envoyer l\u2019argent."))},b("React").createElement(b("XUIDialogButton.react"),{disabled:this.state.chatFieldContent==="",label:i._("Envoyer"),onClick:this.handleSendMessageClicked,size:"large",use:"confirm"})),b("React").createElement(b("P2PLoadingMask.react"),{visible:this.state.loading}))},renderP2PQPDialog:function(){return b("React").createElement(b("GroupSellInterestP2PQPDialog.react"),{onNextClick:this.handleP2PNUXDialogNextClick,width:j})},handleP2PNUXDialogNextClick:function(){this.setState({p2pQPDialogShown:!1,showDialog:!0})},onNUXCloseButtonClick:function(){b("GroupSellNUX").markAsSeen("p2p_chat_to_buy"),this.setState({nuxShown:!1})},renderLayers:function(){var a={};this.state.p2pQPDialogShown?a.p2pQPDialog=this.renderP2PQPDialog():this.state.showDialog&&(a.startChatDialog=this.renderStartChatDialog());this.state.error&&(a.errorDialog=b("React").createElement(b("P2PErrorDialog.react"),{title:i._("Probl\u00e8me lors de l\u2019envoi du message"),onOKClick:this.handleErrorOKClick,error:this.state.error}));this.state.nuxShown&&(a.ambientNux=b("React").createElement(b("XUIAmbientNUX.react"),{behaviors:{LayerHideOnTransition:b("LayerHideOnTransition"),LayerHideOnBlur:b("LayerHideOnBlur"),ContextualLayerUpdateOnScroll:b("ContextualLayerUpdateOnScroll")},contextRef:function(){return this.refs.chat_to_buy}.bind(this),shown:this.state.nuxShown,position:"below",alignment:"right",onCloseButtonClick:this.onNUXCloseButtonClick},i._("Vous pouvez d\u00e9sormais acheter des articles \u00e0 partir de vos messages en toute s\u00e9curit\u00e9.")));return a},render:function(){var a=null,c=null,d=null,e=this.handleMessageSellerClicked;this.props.loggedOut.isLoggedOut&&(a="async-post",c="#",d=this.props.loggedOut.loginDialogURI,e=null);e=this.props.style===m.regular?b("React").createElement(b("XUIButton.react"),{ref:"chat_to_buy",image:b("CurrentUser").isWorkUser()?b("React").createElement(b("Image.react"),{src:g("122283")}):b("React").createElement(b("Image.react"),{className:"_49he",src:"/images/groups/sell/chat-to-buy.png"}),label:i._("Contacter le vendeur"),onClick:e,rel:a,href:c,ajaxify:d,size:"medium"}):b("React").createElement("div",{className:"_3ass"},b("React").createElement(b("XUIButton.react"),{className:"_4xrw",ref:"chat_to_buy",id:"chatToBuyExpand",use:"confirm",image:b("CurrentUser").isWorkUser()?b("React").createElement(b("Image.react"),{className:"_3qzp",src:g("114275")}):b("React").createElement(b("Image.react"),{className:"_44h-",src:"/images/groups/sell/message_seller_icon.png"}),label:b("React").createElement("span",{className:"_4xrx"},i._("Contacter le vendeur")),onClick:this.handleMessageSellerClicked}));return e}});e.exports=c}),null);
__d("XGroupsMemberConnectionsIntentLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/member_connections/log_intent/",{member_id:{type:"Int"},group_id:{type:"Int"},intent_type:{type:"Enum",enumType:1}})}),null);
__d("GroupsMemberConnectionsLogger",["AsyncRequest","Event","XGroupsMemberConnectionsIntentLoggingController"],(function(a,b,c,d,e,f){"use strict";var g={logIntentOnJavaScriptEvent:function(a,c,d,e,f){b("Event").listen(a,c,function(){g.logIntent(d,e,f)})},logIntent:function(a,c,d){c=b("XGroupsMemberConnectionsIntentLoggingController").getURIBuilder().setInt("member_id",c).setInt("group_id",a).setEnum("intent_type",d).getURI();new(b("AsyncRequest"))(c).send()}};e.exports=g}),null);
__d("GroupSellNavigationEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IMPRESSION:"impression",RENDER:"render",PAGE:"page",PAGE_END:"page_end",NO_RESULTS:"no_results",CLICK:"click",ISLAND_RENDER_WITH_ALL_PIX_POSTS:"island_rendered_with_full_pix",ISLAND_RENDER_WITH_MISSING_PIX_POSTS:"island_rendered_with_missing_pix",XGROUP_OPT_OUT_POST_NEARBY:"xgroup_opt_out_post_nearby",XGROUP_OPT_IN_POST_NEARBY:"xgroup_opt_in_post_nearby",RETENTION_VISIT:"retention_visit",LAUNCH_CROSS_POST_DIALOG:"launch_cross_post_dialog",LAUNCH_CROSS_POST_SEE_DUPLICATES_DIALOG:"launch_cross_post_see_duplicates_dialog",SUGGESTED_SEARCH_SEEN:"suggested_search_seen",SUGGESTED_SEARCH_CLICK:"suggested_search_click"})}),null);
__d("GroupSellNavigationTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:GroupSellNavigationLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:GroupSellNavigationLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:GroupSellNavigationLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setCategoryID=function(a){this.$1.category_id=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setGroupID=function(a){this.$1.group_id=a;return this};a.prototype.setGroupMessageID=function(a){this.$1.group_message_id=a;return this};a.prototype.setReferralStack=function(a){this.$1.referral_stack=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setReferralSurface=function(a){this.$1.referral_surface=a;return this};a.prototype.setSearchQuery=function(a){this.$1.search_query=a;return this};a.prototype.setSurface=function(a){this.$1.surface=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={category_id:!0,event:!0,group_id:!0,group_message_id:!0,referral_stack:!0,referral_surface:!0,search_query:!0,surface:!0,vc:!0};e.exports=a}),null);
__d("GroupSellTheatreLink",["csx","CSS","Event","GroupSellNavigationEvent","GroupSellNavigationTypedLogger"],(function(a,b,c,d,e,f,g){__p&&__p();a={setClickListener:function(a,c,d,e,f){b("Event").listen(a,"click",function(){new(b("GroupSellNavigationTypedLogger"))().setEvent(b("GroupSellNavigationEvent").CLICK).setGroupID(c).setSurface(e).setGroupMessageID(d).setReferralSurface(e).addToExtraData("hasPhoto",f.toString()).log()})},setPhotoAttachmentClickListenerOnStory:function(a,c,d,e){b("Event").listen(a,"click",function(event){if(event.target.rel!=="theater")return;if(!b("CSS").matchesSelector(event.target,"._2a2r")&&!b("CSS").matchesSelector(event.target,"._4-eo"))return;new(b("GroupSellNavigationTypedLogger"))().setEvent(b("GroupSellNavigationEvent").CLICK).setGroupID(c).setSurface(e).setGroupMessageID(d).setReferralSurface(e).log()})}};e.exports=a}),null);