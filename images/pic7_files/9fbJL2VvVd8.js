if (self.CavalryLogger) { CavalryLogger.start_js(["JBWxX"]); }

__d("TextAreaWithLineLimit.react",["cx","AbstractTextArea.react","React","TextAreaControl","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);h=d&&d.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={},this.$2=function(event){var a=event.target.value;this.$3(a)&&this.props.onChange(a)}.bind(this),this.$3=function(a){a=a.split(/\r\n|\r|\n/);if(this.props.maxLines>0&&a.length>this.props.maxLines)return!1;if(this.props.maxCharacterPerLine>0)for(var b=0;b<a.length;b++)if(a[b].length>this.props.maxCharacterPerLine)return!1;return!0}.bind(this),b}a.prototype.componentDidMount=function(){var a=this.refs.textArea.getTextFieldDOM();this.$1=new(b("TextAreaControl"))(a);this.$1.setAutogrow(!0);this.$1.onupdate()};a.prototype.componentDidUpdate=function(){this.$1.onupdate()};a.prototype.componentWillUnmount=function(){this.$1=null};a.prototype.render=function(){var a=b("joinClasses")(this.props.className,"_3_8b");return b("React").createElement(b("AbstractTextArea.react"),babelHelpers["extends"]({},this.props,{className:a,onChange:this.$2,onBlur:this.props.onLostFocus,ref:"textArea"}))};a.propTypes={onLostFocus:c.func,maxLines:c.number,maxCharacterPerLine:c.number,onChange:c.func.isRequired};a.defaultProps={maxLines:-1,maxCharacterPerLine:-1};e.exports=a}),null);
__d("XGamesDesktopRtmpStreamUrlController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/async/games/desktop/rtmpStreamUrl/",{title:{type:"String",required:!0},description:{type:"String",required:!0},privacy:{type:"String",required:!0}})}),null);
__d("GamesDesktopGoLiveSettingsView.react",["cx","fbt","AsyncRequest","GamesDesktopJSBridge","React","TextAreaWithLineLimit.react","XGamesDesktopRtmpStreamUrlController","XUIButton.react","XUISingleSelector.react","XUITextInput.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("XUISingleSelector.react").Option,k=h._("Saisir un titre ici"),l=h._("Saisissez une description ici"),m=h._("Cr\u00e9ez votre diffusion en direct"),n=h._("Vous \u00eates en direct\u00a0!"),o=h._("Diffuser en direct\u00a0!"),p=[{option:"everyone",text:h._("Tout le monde")},{option:"friends_of_friends",text:h._("Amis et leurs amis")},{option:"friends_only",text:h._("Amis uniquement")},{option:"only_me",text:h._("Moi uniquement")}],q=h._("Arr\u00eater le direct");c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(a){i.constructor.call(this,a),this.$2=function(a){this.setState({isLive:a})}.bind(this),this.$3=function(a){this.setState({title:a.target.value})}.bind(this),this.$4=function(a){this.setState({description:a})}.bind(this),this.$5=function(a){this.setState({privacy:a.value})}.bind(this),this.state={description:"",isLive:!1,privacy:"everyone",title:""}}a.prototype.componentDidMount=function(){b("GamesDesktopJSBridge").getIsBroadcastingLive(this.$2)};a.prototype.handleRtmpUrlResponseAndGoLive=function(a){a=a.payload;b("GamesDesktopJSBridge").goLive(a)};a.prototype.goLive=function(){new(b("AsyncRequest"))(b("XGamesDesktopRtmpStreamUrlController").getURIBuilder().setString("title",this.state.title).setString("description",this.state.description).setString("privacy",this.state.privacy).getURI()).setHandler(function(a){return this.handleRtmpUrlResponseAndGoLive(a)}.bind(this)).send()};a.prototype.$6=function(){return b("React").createElement(b("XUISingleSelector.react"),{className:"_3o9y",defaultValue:"everyone",name:"goLivePrivacySelect",onChange:this.$5},p.map(function(a){return b("React").createElement(j,{value:a.option},a.text)}))};a.prototype.$7=function(){return b("React").createElement("div",{className:"_3o9-"},b("React").createElement("div",{className:"_3o9_"},n),b("React").createElement("div",null,b("React").createElement("div",null,b("React").createElement(b("XUIButton.react"),{label:q,onClick:function(){b("GamesDesktopJSBridge").stopGoLive(),b("GamesDesktopJSBridge").closeFeaturePanel(),this.setState({isLive:!1})}.bind(this),use:"default"}))))};a.prototype.$8=function(){return b("React").createElement("div",{className:"_3o9-"},b("React").createElement("div",{className:"_3o9_"},m),b("React").createElement("div",null,b("React").createElement("div",null,b("React").createElement(b("XUITextInput.react"),{className:"_3oa2",onChange:this.$3,placeholder:k})),b("React").createElement("div",{className:"_3oa3"},b("React").createElement(b("TextAreaWithLineLimit.react"),{className:"_3oa3",maxLines:10,onChange:this.$4,placeholder:l,value:this.state.description})),b("React").createElement("div",{className:"_3-95"},h._("Qui peut regarder votre diffusion\u00a0?"),b("React").createElement("span",{className:"_3-9a"},this.$6())),b("React").createElement("div",null,b("React").createElement(b("XUIButton.react"),{label:o,onClick:function(){this.goLive(),b("GamesDesktopJSBridge").closeFeaturePanel(),this.setState({isLive:!0})}.bind(this),use:"confirm"}))))};a.prototype.render=function(){return this.state.isLive?this.$7():this.$8()};e.exports=a}),null);
__d("GamesDesktopRecommendationsCarousel.react",["AppQueryLoadWrapper","GamesDesktopAppTileContainer.react","GamesDesktopCarousel.react","GamesDesktopLoadingCarousel.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(a){g.constructor.call(this,a),this.state={}}a.prototype.$1=function(){return this.props.queryResults.referralObjects.map(function(a,c){return b("React").createElement(b("GamesDesktopAppTileContainer.react"),{carouselReference:this,detailsDisabled:!0,hasXout:!1,key:c,referralObject:a,showOldTos:!0})}.bind(this)).toArray()};a.prototype.render=function(){return b("React").createElement(b("GamesDesktopCarousel.react"),{alwaysShow:!0,appsPerRow:this.props.appsPerRow,deepDiveReference:this,elements:this.$1(),noTitle:!0,title:this.props.queryResults.title})};e.exports=b("AppQueryLoadWrapper").create(a,b("GamesDesktopLoadingCarousel.react"))}),null);
__d("GamesDesktopRecommendationsRoot.react",["cx","AppQuery","Event","FBSourceConstants","GamesDesktopDispatcher","GamesDesktopRecommendationsCarousel.react","React","ShimButton.react","joinClasses","throttle","GamesDesktopAppInfoStore","GamesDesktopSelectedStore","GamesDesktopAppDetailedInfoStore"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("AppQuery").GYMLGameBookmarksAppQuery;d=b("AppQuery").GYMLRecommendedGamesAppQuery;var i=10,j={1:"_3bpq",2:"_5h42",3:"_3f72",4:"_3f73",5:"_3f74",6:"_3f7g"},k={0:c({}),1:d({})};b("GamesDesktopDispatcher").explicitlyRegisterStores([b("GamesDesktopAppInfoStore"),b("GamesDesktopSelectedStore"),b("GamesDesktopAppDetailedInfoStore")]);function l(){if(window.innerWidth>=1786)return 5;else if(window.innerWidth>=1430)return 4;else return 3}function m(a){return k[a]}f=babelHelpers.inherits(a,b("React").PureComponent);h=f&&f.prototype;function a(a){h.constructor.call(this,a),this.state={carouselSize:l(),activeIndex:0}}a.prototype.$2=function(a){this.setState({activeIndex:a})};a.prototype.$3=function(){var a=this.state.activeIndex===0?"_4722":"_3qdg",c=this.state.activeIndex===1?"_4722":"_3qdg";return b("React").createElement("div",{className:"_3qd8"},b("React").createElement(b("ShimButton.react"),{className:a,inline:!0,onClick:function(){return this.$2(0)}.bind(this)},"Bookmarked Games"),b("React").createElement(b("ShimButton.react"),{className:c,inline:!0,onClick:function(){return this.$2(1)}.bind(this)},"Recommended Games"))};a.prototype.render=function(){var a=m(this.state.activeIndex);return b("React").createElement("div",{className:b("joinClasses")("_4u51 _l-o",j[this.state.carouselSize])},this.$3(),b("React").createElement(b("GamesDesktopRecommendationsCarousel.react"),{appQuery:a,appsPerRow:this.state.carouselSize,fbSource:b("FBSourceConstants").GAMES_DESKTOP_HOMEPAGE_CAROUSEL,key:this.state.activeIndex,noTitle:!0,numResults:i}))};a.prototype.componentDidMount=function(){this.$1=b("Event").listen(window,"resize",b("throttle")(function(){return this.setState({carouselSize:l()})}.bind(this),100))};a.prototype.componentWillUnmount=function(){this.$1.remove()};e.exports=a}),null);
__d("XGamesDesktopGamerChatAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/async/games/desktop/gamer_chat/",{app_id:{type:"String",required:!0}})}),null);
__d("GamesDesktopFeaturePanel.react",["cx","AsyncRequest","GamerChat.react","GamesDesktopGoLiveSettingsView.react","GamesDesktopJSBridge","GamesDesktopRecommendationsRoot.react","React","XGamesDesktopGamerChatAsyncController"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=500;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(a){h.constructor.call(this,a),this.state={openFeature:"",channel:"",identifier:"",gameName:"",isAdmin:!1}}a.prototype.componentDidMount=function(){b("GamesDesktopJSBridge").provideFeaturePanelCallback(function(a){a=JSON.parse(a);this.setState({openFeature:a.feature})}.bind(this)),new(b("AsyncRequest"))(b("XGamesDesktopGamerChatAsyncController").getURIBuilder().setString("app_id",this.props.app_id.toString()).getURI()).setHandler(function(a){return a.payload&&this.setState({channel:a.payload.channel_name,identifier:a.payload.identifier,gameName:a.payload.app_name,isAdmin:a.payload.isAdmin})}.bind(this)).send()};a.prototype.render=function(){return this.$1()};a.prototype.$1=function(){var a=b("React").createElement("div",null);this.state.openFeature==="Recommendations"?a=b("React").createElement("div",null,b("React").createElement(b("GamesDesktopRecommendationsRoot.react"),null)):this.state.openFeature==="Chat"?a=b("React").createElement("div",{className:"_3_cr"},b("React").createElement("div",{className:"_4d3a _xfa"},b("React").createElement("div",{desc:"Text for the gamer chat header",project:"games"},"Live Chat")),b("React").createElement("div",null,b("React").createElement(b("GamerChat.react"),{appID:this.props.app_id.toString(),channel:this.state.channel,gameName:this.state.gameName,hidden:!1,identifier:this.state.identifier,isAdmin:!1,isGamesDesktopApp:!0,maxMessageLength:i}))):this.state.openFeature==="GoLive"&&(a=b("React").createElement(b("GamesDesktopGoLiveSettingsView.react"),null));return a};e.exports=a}),null);