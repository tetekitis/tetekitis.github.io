if (self.CavalryLogger) { CavalryLogger.start_js(["Gqgiw"]); }

__d("XSavedForLaterNUXSeenController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/saved/nuxseen/",{action:{type:"Enum",enumType:1},surface:{type:"Enum",enumType:1},mechanism:{type:"Enum",enumType:1},collection_id:{type:"Enum",enumType:0},object_id:{type:"Int"},interaction_time:{type:"Int"}})}),null);
__d("OnlyMeSharerSaveNux.react",["cx","fbt","AsyncRequest","Banzai","ContextualLayerBlind","CSS","DataStore","DOM","DOMScroll","Keys","Link.react","Parent","React","ShareModeConst","URI","XSavedForLaterNUXSeenController","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogFooter.react","XUIContextualDialogTitle.react","XUIDialogButton.react","guid","nullthrows"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=b("React").PropTypes;var j=null,k=null,l="OnlyMeSharerSaveNux_instance",m="OnlyMeSharerSaveNux_caretMenuLoaded",n="_5jmm",o="_54ne",p="impression",q="saved_for_later:click",r="only_me_sharer_nux",s="learn_more_link",t="only_me_sharer_nux",u="caret",v="dismiss_button",w="esc_button",x={paddingTop:0,paddingRight:0,paddingBottom:5,paddingLeft:7};d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={isShown:!0},this.$2=function(a){var c,d;c=babelHelpers.inherits(e,b("ContextualLayerBlind"));d=c&&c.prototype;function e(b){"use strict";d.constructor.call(this,b,a)}return e},this.$3=function(){if(this.props.shareType===b("ShareModeConst").SELF_POST||this.props.shareType==="own")return h._("Partage r\u00e9ussi");else return h._("Message envoy\u00e9")}.bind(this),this.$1=function(event){__p&&__p();var a=document.getElementById(this.props.storyContainerId);if(!a)return;var c=b("Parent").byClass(a,n);c&&b("DataStore").get(c,m)===!0&&setTimeout(function(){__p&&__p();var a=b("DOM").scry(document,"li.save_caret_menu_item"),d=function(d){__p&&__p();var e=a[d];d=b("Parent").byClass(e,"uiLayer");if(d&&b("CSS").shown(d)){b("CSS").addClass(e,o);d=b("DataStore").get(c,l);d.$4(u);d=b("DataStore").get(k,"Popover");d&&d.subscribeOnce("hide",function(){b("CSS").removeClass(e,o)});return"break"}};for(var e=0;e<a.length;e++){var f=d(e);if(f==="break")break}},0)}.bind(this),this.$5=function(event){event.keyCode===b("Keys").ESC&&this.state.isShown&&(document.removeEventListener("keyup",this.$5),this.$4(w))}.bind(this),this.$6=function(){this.$4(v)}.bind(this),this.$7=function(){b("Banzai").post(q,{og_object_id:this.props.objectId,collection_id:this.props.collectionId,surface:r,mechanism:s,event_id:b("guid")()},{retry:!0,delay:0})}.bind(this),this.$4=function(a){this.setState({isShown:!1}),b("Banzai").post(q,{og_object_id:this.props.objectId,collection_id:this.props.collectionId,surface:r,mechanism:a,event_id:b("guid")()},{retry:!0,delay:0})}.bind(this),this.$8=function(a){k!==null&&!a&&k.removeEventListener("click",this.$1);if(this.props.wrapper!=null){a=b("Parent").byClass(this.props.wrapper,"uiLayer");a&&b("CSS").hide(a)}}.bind(this),c}a.saveOptionLoaded=function(a){"use strict";__p&&__p();a=document.getElementById(a);if(a!=null){a=b("Parent").byClass(a,n);if(a){b("DataStore").set(a,m,!0);a=b("DataStore").get(a,l);a&&a.state.isShown&&a.$1()}}};a.prototype.UNSAFE_componentWillMount=function(){"use strict";j=this.$2(babelHelpers["extends"]({},x)),k=document.getElementById(this.props.caretId)};a.prototype.componentDidMount=function(){"use strict";__p&&__p();var a=document.getElementById(this.props.storyContainerId);if(a){a=b("Parent").byClass(a,n);a&&b("DataStore").set(a,l,this)}k&&k.addEventListener("click",this.$1);document.addEventListener("keyup",this.$5);setTimeout(function(){b("DOMScroll").ensureVisible(b("nullthrows")(k))},500);a=b("XSavedForLaterNUXSeenController").getURIBuilder().setEnum("surface","story").setEnum("mechanism",t).setEnum("collection_id",this.props.collectionId).setInt("object_id",this.props.objectId).setEnum("action",p).getURI();a=new(b("AsyncRequest"))(a);a.send()};a.prototype.render=function(){"use strict";return b("React").createElement(b("XUIContextualDialog.react"),{shown:this.state.isShown,contextRef:function(){return k},position:"below",alignment:"right",behaviors:{grayedOutLayer:j},width:400,offsetX:-3,onToggle:this.$8},b("React").createElement(b("XUIContextualDialogTitle.react"),null,this.$3()),b("React").createElement(b("XUIContextualDialogBody.react"),null,h._("Vous voulez enregistrer vos publications plus rapidement en priv\u00e9\u00a0? Ouvrez ce menu d\u00e9roulant et cliquez sur Enregistrer.")),b("React").createElement(b("XUIContextualDialogFooter.react"),null,b("React").createElement(b("Link.react"),{className:"_222f",href:new(b("URI"))("/help/516581611792218"),target:"_blank",onClick:this.$7},h._("En savoir plus")),b("React").createElement(b("XUIDialogButton.react"),{label:h._("OK"),use:"confirm",action:"cancel",onClick:this.$6})))};a.propTypes={caretId:c.string.isRequired,storyContainerId:c.string.isRequired,wrapper:c.any,collectionId:c.string.isRequired,objectId:c.string,shareType:c.string.isRequired};e.exports=a}),null);
__d("SavedForLaterChromeExtensionInstallLink",["Banzai","Event","TimelineInHouseAppCollections","guid","tidyEvent"],(function(a,b,c,d,e,f){__p&&__p();var g="chrome_extension_install_link",h="saved_for_later:click",i="https://chrome.google.com/webstore/detail/",j="jmfikkaogpplgnfjmbjdpalkhclendgd";function a(a,c){"use strict";var d=document.createElement("link");d.rel="chrome-webstore-item";d.href=i+j;document.head.appendChild(d);b("tidyEvent")(b("Event").listen(a,"click",function(a){b("Banzai").post(h,{collection_id:b("TimelineInHouseAppCollections").SAVED_ALL,surface:c,mechanism:g,event_id:b("guid")()},{delay:0,retry:!0}),window.chrome&&window.chrome.webstore&&window.chrome.webstore.install()}))}e.exports=a}),null);
__d("SavedForLaterChromeExtensionToastNux",["AsyncRequest","DataStore","SavedForLaterChromeExtensionInstallLink","TimelineInHouseAppCollections","XSavedForLaterNUXSeenController"],(function(a,b,c,d,e,f){__p&&__p();var g="impression",h="story",i="chrome_extension_toast_nux",j="SavedForLaterChromeExtensionToastNux";function a(a,c){"use strict";b("DataStore").set(a,j,this),this.installInstance=new(b("SavedForLaterChromeExtensionInstallLink"))(c,h)}a.onDisplay=function(a){"use strict";a=b("DataStore").get(a,j);if(!a)return;new(b("AsyncRequest"))(b("XSavedForLaterNUXSeenController").getURIBuilder().setEnum("action",g).setEnum("surface",h).setEnum("mechanism",i).setEnum("collection_id",b("TimelineInHouseAppCollections").SAVED_ALL).getURI()).setMethod("POST").send()};e.exports=a}),null);
__d("SaveCaretMenuItem",["csx","cx","AdsTransparencyReportAdTypedLogger","Banzai","CSS","DOM","DOMQuery","EntstreamFeedObject","EntstreamFeedObjectFollowup","Event","MenuItem","SavedForLaterChromeExtensionToastNux","SaveState","SaveStateHandler","ge"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j="saved_for_later:caret_action",k="imp",l="._22la";c=babelHelpers.inherits(a,b("MenuItem"));i=c&&c.prototype;function a(a){"use strict";i.constructor.call(this,a),this._data=this._updateData(),this.getRoot(),b("Event").listen(this._anchor,"error",this.handleError.bind(this)),b("SaveStateHandler").listen(a.primarysaveid,function(a){this._data=this._updateData(),this._doRender(a)}.bind(this))}a.prototype.handleClick=function(){"use strict";__p&&__p();var a=i.handleClick.call(this),c=b("EntstreamFeedObject").getRoot(b("ge")(this._data.storydomid));if(this._data.isSaveAction){b("SaveStateHandler").saving(this._data.allsaveids);var d=this._data.savefollowupmarkup;this._data.chromeextensionnuxmarkup.hasChildNodes()&&(d=this._data.chromeextensionnuxmarkup,b("SavedForLaterChromeExtensionToastNux").onDisplay(d));if(c){var e=b("DOM").scry(c,"._5va1");if(e&&e.length>0){e=e[0];e&&(c=e)}b("EntstreamFeedObjectFollowup").addFollowup(c,d,["_521o","_4-u3","_3yll"]);e=b("DOMQuery").scry(c,l);if(e.length>0){d=new CustomEvent("savedShow");e[0].dispatchEvent(d)}}}else{b("SaveStateHandler").unsaving(this._data.allsaveids);e=b("EntstreamFeedObjectFollowup").getFollowup(c);e&&b("EntstreamFeedObjectFollowup").removeFollowup(c)}return a};a.prototype.handleError=function(){"use strict";this._data.isSaveAction?b("SaveStateHandler").saved(this._data.allsaveids):b("SaveStateHandler").unsaved(this._data.allsaveids)};a.prototype._updateData=function(){"use strict";var a=babelHelpers["extends"]({},this._data);a.isSaveAction=b("SaveStateHandler").isSaveAction(a.primarysaveid);a.isSaveAction?(a.markup=a.savemarkup,a.ajaxify=a.saveajaxify,a.title=a.savetitle):(a.markup=a.unsavemarkup,a.ajaxify=a.unsaveajaxify,a.title=a.unsavetitle);a.logdata.ad_impression&&new(b("AdsTransparencyReportAdTypedLogger"))().setAdID(a.logdata.ad_id).setEvent(a.logdata.event).setEntity(a.logdata.report_entity).setProductLocation(a.logdata.report_location).setSessionID(a.logdata.impression_session_id).setAdsPageType(a.logdata.ads_page_type).addToExtraData("reorder_treatment",a.logdata.reorder_treatment).log();return a};a.prototype._doRender=function(a){"use strict";__p&&__p();if(!this._root)return;switch(a){case b("SaveState").SAVING:case b("SaveState").UNSAVING:b("CSS").addClass(this._root,"_5arm");setTimeout(this.disable.bind(this),10);break;case b("SaveState").SAVED:case b("SaveState").UNSAVED:b("CSS").removeClass(this._root,"_5arm");setTimeout(this.enable.bind(this),10);break}b("DOM").replace(this._anchor,this._renderItemContent());b("Event").listen(this._anchor,"error",this.handleError.bind(this))};a.prototype.onShow=function(){"use strict";var a=this._data.logdata;b("Banzai").post(j,{action:k,surface:a.surface,story_id:a.story_id,is_save:this._data.isSaveAction})};e.exports=a}),null);