if (self.CavalryLogger) { CavalryLogger.start_js(["usV3b"]); }

__d("EmojiDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationDispatcher"))({strict:!1})}),null);
__d("EmojiActions",["EmojiDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("keyMirror")({CHANGE_CURRENT_CATEGORY:null,CHANGE_EMOJI_COLOR:null,EMOJI_COLOR_READY:null,GET_EMOJI_COLOR:null,TRAY_DATA_READY:null,UPDATE_TRAY_DATA:null});var g={Types:a,loadedTrayData:function(){b("EmojiDispatcher").dispatch({type:g.Types.TRAY_DATA_READY})},updateTrayData:function(){b("EmojiDispatcher").dispatch({type:g.Types.UPDATE_TRAY_DATA})},changeEmojiColor:function(a){b("EmojiDispatcher").dispatch({type:g.Types.CHANGE_EMOJI_COLOR,color:a})},changeCurrentCategory:function(a){b("EmojiDispatcher").dispatch({type:g.Types.CHANGE_CURRENT_CATEGORY,currentCategory:a})},getEmojiColor:function(){b("EmojiDispatcher").dispatch({type:g.Types.GET_EMOJI_COLOR})},emojiColorReady:function(a){b("EmojiDispatcher").dispatch({type:g.Types.EMOJI_COLOR_READY,color:a})}};e.exports=g}),null);
__d("XMessagingGetEmojiRecentUsageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/emoji_recent_usage/",{})}),null);
__d("EmojiServerRequests",["Promise","AsyncRequest","XMessagingGetEmojiRecentUsageController"],(function(a,b,c,d,e,f){"use strict";a={fetchTrayData:function(a){return g(b("XMessagingGetEmojiRecentUsageController").getURIBuilder().getURI(),a,!0)}};function g(a,c,d){return new(b("Promise"))(function(c,e){return new(b("AsyncRequest"))(a).setHandler(function(a){return c(a.getPayload())}).setAllowCrossPageTransition(d).send()}).then(c)}e.exports=a}),null);
__d("XMessagingGetEmojiColorPrefController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/get_emoji_color/",{})}),null);
__d("XMessagingSetEmojiColorPrefController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/set_emoji_color/",{})}),null);
__d("EmojiState",["fbt","AsyncRequest","EmojiActions","EmojiServerRequests","MessengerSupportedEmojiUtils","XMessagingGetEmojiColorPrefController","XMessagingSetEmojiColorPrefController","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=null,i=null,j;a={onTrayDataReady:function(a){j||(j=b("EmojiServerRequests").fetchTrayData(function(a){i=a})),b("promiseDone")(j,function(){a(),b("EmojiActions").loadedTrayData()})},getEmojiColor:function(){var a=b("XMessagingGetEmojiColorPrefController").getURIBuilder().getURI();new(b("AsyncRequest"))(a).setMethod("POST").setHandler(function(a){b("EmojiActions").emojiColorReady(a.payload)}).send()},changeEmojiColor:function(a){var c=b("XMessagingSetEmojiColorPrefController").getURIBuilder().getURI();new(b("AsyncRequest"))(c).setMethod("POST").setData({color:a}).send()},addMRUCategory:function(){if(i){var a=i.map(function(a){return b("MessengerSupportedEmojiUtils").getSupportedEmojiCodesArray(a)}).filter(function(a){return!!a});h={name:g._("Envoy\u00e9s r\u00e9cemment"),emojis:a,icon:[128340]};b("EmojiActions").updateTrayData();i=null}},_addRecentlyUsedEmoji:function(a){__p&&__p();var c=h&&h.emojis;if(!c)return;var d=function(b){var d=a[b];for(var b=0;b<c.length;++b)if(c[b].length==d.length&&c[b].every(function(a,b){return a===d[b]})){c.splice(b,1);break}c.unshift(d)};for(var e=0;e<a.length;++e)d(e);b("EmojiActions").updateTrayData()},getMRUCategory:function(){h||this.addMRUCategory();return h},updateRecentlyUsed:function(a){if(!h){this.addMRUCategory();return}this._addRecentlyUsedEmoji(a)}};e.exports=a}),null);
__d("EmojiStateStore",["EmojiActions","EmojiDispatcher","EmojiState","FluxStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("EmojiDispatcher")),b("EmojiState").getEmojiColor(),this.$EmojiStateStore2=!1}a.prototype.getState=function(){var a=b("EmojiState").getMRUCategory();return{currentCategory:this.$EmojiStateStore4,emojiColor:this.$EmojiStateStore3,mruCategory:[a],threadID:this.$EmojiStateStore1,trayDataReady:this.$EmojiStateStore2}};a.prototype.__onDispatch=function(a){__p&&__p();var c=b("EmojiActions").Types;switch(a.type){case c.GET_EMOJI_COLOR:b("EmojiState").getEmojiColor();break;case c.EMOJI_COLOR_READY:this.$EmojiStateStore3=a.color;break;case c.CHANGE_EMOJI_COLOR:b("EmojiState").changeEmojiColor(a.color);this.$EmojiStateStore3=a.color;break;case c.CHANGE_CURRENT_CATEGORY:this.$EmojiStateStore4=a.currentCategory;break;case c.UPDATE_TRAY_DATA:break;case c.TRAY_DATA_READY:this.$EmojiStateStore2=!0;break}this.__emitChange()};a.__moduleID=e.id;e.exports=new a()}),null);
__d("MessengerProfileLinkTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerProfileLinkLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerProfileLinkLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerProfileLinkLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAction=function(a){this.$1.action=a;return this};a.prototype.setDomain=function(a){this.$1.domain=a;return this};a.prototype.setLinkLocation=function(a){this.$1.link_location=a;return this};a.prototype.setTargetID=function(a){this.$1.target_id=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={action:!0,domain:!0,link_location:!0,target_id:!0,vc:!0};e.exports=a}),null);
__d("WorkChatActivityTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:WorkChatActivityLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:WorkChatActivityLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:WorkChatActivityLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAppID=function(a){this.$1.app_id=a;return this};a.prototype.setAppVersion=function(a){this.$1.app_version=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setGroupID=function(a){this.$1.group_id=a;return this};a.prototype.setHscrollPosition=function(a){this.$1.hscroll_position=a;return this};a.prototype.setThreadIds=function(a){this.$1.thread_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={app_id:!0,app_version:!0,event:!0,group_id:!0,hscroll_position:!0,thread_ids:!0,vc:!0};e.exports=a}),null);
__d("WorkDoNotDisturbSettingsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:WorkDoNotDisturbSettingsLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:WorkDoNotDisturbSettingsLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:WorkDoNotDisturbSettingsLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setOption=function(a){this.$1.option=a;return this};a.prototype.setSource=function(a){this.$1.source=a;return this};c={event:!0,option:!0,source:!0};e.exports=a}),null);
__d("ChatEmojiPickerButton.react",["cx","fbt","Image.react","ImmutableObject","Keys","MessengerHotLikePreviewEvents","MessengerHotLikeUtils","React","MercuryMessageObject","MercuryTriodeSourceUtil","StickerConstants","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("MercuryMessageObject").get();c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=null,this.$2=null,this.$3=null,this.$6=function(a){a.stopPropagation(),this.props.onClick(this.props.emojiData.emojiCodes,this.refs.div)}.bind(this),this.$7=function(a){a.keyCode===b("Keys").RETURN&&(a.preventDefault(),this.props.onClick(this.props.emojiData.emojiCodes,this.refs.div))}.bind(this),this.$8=function(a){a.preventDefault();a.stopPropagation();if(a.button!==0)return;!this.props.enableHotEmoji?this.$1=setTimeout(this.$10,1e3):(this.$1=setTimeout(function(){this.$3=Date.now(),this.$11(),this.$12()}.bind(this),500),this.props.onMouseDown&&this.props.onMouseDown())}.bind(this),this.$9=function(a){a.stopPropagation();b("clearTimeout")(this.$1);if(this.props.enableHotEmoji){if(!(this.props.threadID&&this.$3))return;this.$3=0;this.$14();this.$15()}}.bind(this),this.$10=function(){this.props.onLongPress(this.props.emojiData.emojiCodes,this.refs.div)}.bind(this),this.$16=function(){if(!this.props.threadID)return;b("MessengerHotLikePreviewEvents").emit(b("MessengerHotLikePreviewEvents").POP,this.props.threadID)}.bind(this),this.$4=function(){this.$3&&(this.$3=0,this.$14(),this.$16())}.bind(this),c}a.prototype.componentWillUnmount=function(){this.$4(),b("clearTimeout")(this.$1),b("clearTimeout")(this.$2)};a.prototype.render=function(){return b("React").createElement("div",{"aria-label":this.$5(),onClick:this.$6,onKeyDown:this.$7,onMouseDown:this.$8,onMouseLeave:this.$4,onMouseUp:this.$9,ref:"div",role:"button",tabIndex:"0"},b("React").createElement(b("Image.react"),{className:"_1lih _1ift _1ifu",style:{margin:0},src:this.props.emojiData.uri}))};a.prototype.$5=function(){return h._("S\u00e9lectionner un emoji {emoji choice}",[h._param("emoji choice",String.fromCodePoint.apply(String,this.props.emojiData.emojiCodes))])};a.prototype.$11=function(){this.$10();if(!this.props.threadID)return;var a=this.$13();b("MessengerHotLikePreviewEvents").emit(b("MessengerHotLikePreviewEvents").START,a,this.props.threadID,this.props.emojiData.emojiCodes)};a.prototype.$15=function(){if(!this.props.threadID)return;b("MessengerHotLikePreviewEvents").emit(b("MessengerHotLikePreviewEvents").STOP_EMOJI,this.props.threadID,!0)};a.prototype.$12=function(){this.$14(),this.$2=b("setTimeoutAcrossTransitions")(this.$16,b("MessengerHotLikeUtils").SizeTimes.large)};a.prototype.$14=function(){b("clearTimeout")(this.$2)};a.prototype.$13=function(){__p&&__p();var a=this.props.threadID;if(!a)return null;a=j.constructStickerMessageObject(b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID,b("MercuryTriodeSourceUtil").getMercuryTriodeSource(),a);j.normalizeNewMessage(a);a.is_like_preview=!0;a.like_preview_since=this.$3;a.customLike=this.props.emojiData;a.body="";return new(b("ImmutableObject"))(a)};a.propTypes={emojiData:c.object.isRequired,enableHotEmoji:c.bool,onClick:c.func.isRequired,onLongPress:c.func.isRequired,threadID:c.string};e.exports=a}),null);
__d("ChatEmojiPicker.react",["cx","Bootloader","ChatEmojiPickerButton.react","ChatEmojiSkinToneSelector.react","EmojiActions","EmojiFormat.bs","EmojiLikeConstants","Grid.react","MessengerEmojiTransitionMapping.bs","MessengerHotLikePreviewEvents","MessengerSupportedEmojiUtils","React","SkinToneEmoji.bs","SubscriptionsHandler","joinClasses","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("Grid.react").GridItem;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=!1,this.$2=null,this.state={clickedEmoji:null,selectedEmoji:[],toneSelectorShown:!1,toneSelectorContext:null},this.scrollToTop=function(a){this.refs.scrollable&&(this.refs.scrollable.scrollTo?this.refs.scrollable.scrollTo({top:0,behavior:a?"smooth":undefined}):this.refs.scrollable.scrollTop=0)}.bind(this),this.$8=function(a){if(this.props.shouldSaveEmojiColorChoice){var c=b("SkinToneEmoji.bs").getTone(a);b("EmojiActions").changeEmojiColor(c)}this.$9();this.props.onSelect&&this.props.onSelect(a)}.bind(this),this.$4=function(a,c){this.props.shouldSaveEmojiColorChoice&&this.props.useSkinToneSelector&&b("SkinToneEmoji.bs").hasVariations(a)?(this.$10(a,c),this.$1=!1):this.$1?this.$1=!1:this.$8(a)}.bind(this),this.$5=function(a,c){this.props.useSkinToneSelector&&b("SkinToneEmoji.bs").hasVariations(a)?this.$10(a,c):this.setState({clickedEmoji:a}),this.$1=!0}.bind(this),this.$7=function(){this.$1||this.$3()}.bind(this),this.$6=function(){this.$3();var a=this.refs.scrollable;typeof this.props.onScroll==="function"&&a&&(a.scrollTop+a.clientHeight+100>=a.scrollHeight-20&&(this.props.onScroll&&this.props.onScroll()))}.bind(this),c}a.prototype.componentDidMount=function(){this.$2=new(b("SubscriptionsHandler"))(),this.$2.addSubscriptions(b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").START,function(a,c,d){d&&this.props.useSkinToneSelector&&!b("SkinToneEmoji.bs").hasVariations(d)&&this.state.toneSelectorShown&&this.$3()}.bind(this)),b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").FINISH_EMOJI_ANIMATION,function(a,c,d){a===this.props.threadID&&(d&&this.state.clickedEmoji&&this.props.sendCustomEmoji&&(this.props.sendCustomEmoji({emoji:b("EmojiFormat.bs").codeArrayToUnicode(this.state.clickedEmoji)},d,b("EmojiLikeConstants").source.PICKER),this.setState({clickedEmoji:null})))}.bind(this)))};a.prototype.componentWillUnmount=function(){this.$2&&this.$2.release()};a.prototype.render=function(){__p&&__p();var a=this.props.emojiChoices.map(function(a){var c=String.fromCodePoint.apply(String,a),d=this.props.enableHotEmoji||!b("SkinToneEmoji.bs").hasVariations(a),e=a;if(!b("MessengerSupportedEmojiUtils").isMessengerSupportedEmojiKey(b("EmojiFormat.bs").codeArrayToCodeString(e)))return null;b("MessengerEmojiTransitionMapping.bs").hasGender(e)&&(e=b("MessengerEmojiTransitionMapping.bs").makeFemale(e));if(b("MessengerEmojiTransitionMapping.bs").isBlacklisted(e))return null;var f=b("MessengerSupportedEmojiUtils").getUrl(b("EmojiFormat.bs").codeArrayToCodeString(e),this.props.emojiSize?this.props.emojiSize:b("EmojiLikeConstants").size.SMALL);return f?b("React").createElement(i,{key:a.join("_"),className:"_3-sy _3dyd"+(c===this.props.currentEmoji?" _4w0j":"")},b("React").createElement("div",{className:(c===this.props.currentEmoji?"_4rlt":"")+" _4rlu"},b("React").createElement(b("ChatEmojiPickerButton.react"),{emojiData:{emojiCodes:e,uri:f},enableHotEmoji:d,onClick:this.$4,onLongPress:this.$5,threadID:this.props.threadID}))):null}.bind(this)).filter(function(a){return!!a});return b("React").createElement("div",{className:b("joinClasses")(this.props.className,"_6f3k"),onScroll:this.$6,ref:"scrollable"},b("React").createElement(b("Grid.react"),{cols:this.props.columns,alignh:this.props.alignh,className:"_3-s_ _3ecb"},a),this.props.useSkinToneSelector?b("React").createElement(b("ChatEmojiSkinToneSelector.react"),{context:this.state.toneSelectorContext,emojiCodes:this.state.selectedEmoji,onBlur:this.$7,onSelect:this.$8,sendCustomEmoji:this.props.sendCustomEmoji,shouldSaveEmojiColorChoice:this.props.shouldSaveEmojiColorChoice,shown:this.state.toneSelectorShown,threadID:this.props.threadID}):null)};a.prototype.$9=function(){var a=b("performanceAbsoluteNow")();b("Bootloader").loadModules(["QuickPerformanceLogger","MessengerWebQuickLogModule"],function(b,c){b.markerPoint(c.COMPOSER_INTERACTION,"select_emoji","",0,a),b.markerEnd(c.COMPOSER_INTERACTION,"SUCCESS",0,a)},"ChatEmojiPicker.react")};a.prototype.$10=function(a,b){this.setState({toneSelectorShown:!0,selectedEmoji:a,toneSelectorContext:b})};a.prototype.$3=function(){this.setState({toneSelectorShown:!1})};a.propTypes={className:c.string,columns:c.number,currentEmoji:c.string,emojiChoices:c.arrayOf(c.arrayOf(c.number)).isRequired,enableHotEmoji:c.bool,onSelect:c.func,sendCustomEmoji:c.func,shouldSaveEmojiColorChoice:c.bool,threadID:c.string,useSkinToneSelector:c.bool};a.defaultProps={columns:7,useSkinToneSelector:!1};e.exports=a}),null);
__d("ChatEmojiSkinToneFlyout.react",["cx","fbt","ChatEmojiPicker.react","MessengerEmojiConfig","React","SkinToneEmoji.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){var a=[];if(this.props.emojiCodes.length>0){var c=b("SkinToneEmoji.bs").removeTone(this.props.emojiCodes);a=b("MessengerEmojiConfig").emoji_colors.map(function(a){return b("SkinToneEmoji.bs").applyTone(c,a)})}var d=null;this.props.shouldSaveEmojiColorChoice&&(d=b("React").createElement("div",{className:"_4gww"},h._("Choisissez-en un. Vous pouvez le changer \u00e0 tout moment dans les param\u00e8tres.")));return b("React").createElement("div",null,d,b("React").createElement(b("ChatEmojiPicker.react"),{className:this.props.className,columns:6,emojiChoices:a,enableHotEmoji:!0,onSelect:this.props.onSelect,sendCustomEmoji:this.props.sendCustomEmoji,threadID:this.props.threadID}))};function a(){i.apply(this,arguments)}a.propTypes={className:c.string,emojiCodes:c.arrayOf(c.number).isRequired,onSelect:c.func.isRequired,sendCustomEmoji:c.func,shouldSaveEmojiColorChoice:c.bool,threadID:c.string};e.exports=a}),null);
__d("ChatEmojiSkinToneSelector.react",["cx","fbt","ChatEmojiSkinToneFlyout.react","ContextualLayerAutoFlip","React","XUIContextualDialog.react","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;var j=276;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){return b("React").createElement(b("XUIContextualDialog.react"),{behaviors:{ContextualLayerAutoFlip:b("ContextualLayerAutoFlip")},context:this.props.context,contextRef:b("emptyFunction"),label:h._("Outil de s\u00e9lection de la couleur de peau"),onBlur:this.props.onBlur,onToggle:this.$1,shown:this.props.shown,width:j},b("React").createElement(b("ChatEmojiSkinToneFlyout.react"),{className:"_2ejf",emojiCodes:this.props.emojiCodes,onSelect:this.props.onSelect,sendCustomEmoji:this.props.sendCustomEmoji,shouldSaveEmojiColorChoice:this.props.shouldSaveEmojiColorChoice,threadID:this.props.threadID}))};function a(){i.apply(this,arguments)}a.propTypes={context:c.instanceOf(HTMLElement),emojiCodes:c.arrayOf(c.number).isRequired,onBlur:c.func.isRequired,onSelect:c.func.isRequired,sendCustomEmoji:c.func,shouldSaveEmojiColorChoice:c.bool,shown:c.bool,threadID:c.string};e.exports=a}),null);
__d("MessengerBootloadedLogMessage.react",["cx","BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){return b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),this.props),loader:b("JSResource")("MessengerLogMessage.react").__setRef("MessengerBootloadedLogMessage.react"),placeholder:b("React").createElement("div",{className:"_497p"},"...")})};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("MessageThreadAssociatedObjectKey",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ACTION_LINK:"action_link",APPROVAL_MODE_TOGGLEABLE:"approval_mode_toggleable",EVENT_PLACE:"event_place",ID:"id",IS_WORKPLACE_COMMUNITY:"is_workplace_community",MENTORSHIP_PROGRAM:"mentorship_program",NAME:"name",PRIVACY_MODE:"privacy_mode",PROFILE_PICTURE:"profile_picture",ROOM_TYPE:"room_type",START_TIMESTAMP:"start_timestamp"})}),null);
__d("MessengerProfileLinkAction",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CLICK:"click",HOVER:"hover"})}),null);
__d("MessengerProfileLinkDomain",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MESSENGER_DOT_COM:"messenger_dot_com",FB_SLASH_MESSAGES:"fb_slash_messages",WORK_CHAT:"work_chat"})}),null);
__d("MessengerProfileLinkLogger.bs",["MessengerProfileLinkTypedLogger"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){new(b("MessengerProfileLinkTypedLogger"))().setTargetID(a).setDomain(c).setLinkLocation(d).setAction(e).log();return 0}f.logItemImpression=a}),null);
__d("ProfileLinkReact.bs",["ReasonReact.bs","bs_js_null_undefined","ProfileLink.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i){return b("ReasonReact.bs").wrapJsForReason(b("ProfileLink.react"),{className:b("bs_js_null_undefined").fromOption(a),href:b("bs_js_null_undefined").fromOption(c),onClick:b("bs_js_null_undefined").fromOption(d),onMouseEnter:b("bs_js_null_undefined").fromOption(e),onMouseLeave:b("bs_js_null_undefined").fromOption(f),target:b("bs_js_null_undefined").fromOption(g),uid:h},i)}f.make=a}),null);
__d("MessengerProfileLink.bs",["URI","bs_block","bs_curry","React","Arbiter","LinkReact.bs","CurrentUser","ReasonReact.bs","bs_js_primitive","ProfileLinkReact.bs","isMessengerDotComURI","MessengerProfileLinkAction","MessengerProfileLinkDomain","MessengerProfileLinkLogger.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ReasonReact.bs").reducerComponent("MessengerProfileLink");function h(a,c,d,e,f,h){__p&&__p();var i=b("isMessengerDotComURI")(new(b("URI"))(window.location.href));h=b("CurrentUser").isWorkUser();var j=h?b("MessengerProfileLinkDomain").WORK_CHAT:i?b("MessengerProfileLinkDomain").MESSENGER_DOT_COM:b("MessengerProfileLinkDomain").FB_SLASH_MESSAGES,k=function(){return b("MessengerProfileLinkLogger.bs").logItemImpression(f,j,d,b("MessengerProfileLinkAction").HOVER)},l=function(){return b("MessengerProfileLinkLogger.bs").logItemImpression(f,j,d,b("MessengerProfileLinkAction").CLICK)};return[g[0],g[1],g[2],g[3],function(a){var c=b("Arbiter").subscribe("Hovercard/show",function(c,d){return b("bs_curry")._1(a[3],0)}),d=b("Arbiter").subscribe("Hovercard/hide",function(c,d){return b("bs_curry")._1(a[3],1)});return b("bs_curry")._1(a[4],function(){c.unsubscribe();d.unsubscribe();return 0})},g[5],g[6],g[7],function(d){return b("React").createElement("span",undefined,a!==undefined?i?b("ReasonReact.bs").element(undefined,undefined,b("LinkReact.bs").make(undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,a,undefined,function(){d[1][0]&&k(0);return l(0)},undefined,undefined,undefined,undefined,undefined,undefined,c,undefined,[e])):b("ReasonReact.bs").element(undefined,undefined,b("ProfileLinkReact.bs").make(undefined,undefined,function(){return l(0)},undefined,function(){var a=d[1][0];if(a)return k(0);else return 0},undefined,f,[e])):e)},function(){return[!1]},g[10],function(c,a){if(c)return b("bs_block").__(0,[[!1]]);else return b("bs_block").__(0,[[!0]])},g[12]]}a=b("ReasonReact.bs").wrapReasonForJs(g,function(a){return h(b("bs_js_primitive").nullable_to_opt(a.href),a.target,a.location,a.name,a.uid,[])});f.component=g;f.make=h;f.jsComponent=a}),null);
__d("MessengerProfileLinkLocation",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CONTEXT_BANNER:"context_banner",INFOPANEL:"infopanel"})}),null);
__d("TimeSpentRoomTypeEnum$FbtEnum",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({GROUP:"Group",EVENT:"Event"});e.exports=a}),null);
__d("MessengerContextBanner.react",["cx","fbt","Badge.react","CurrentUser","Image.react","ImageBlock.react","Link.react","MercuryParticipantsConstants","MercuryParticipantsImage.react","MercuryShareAttachmentRenderLocations","MercuryThreadImage.react","MessageThreadAssociatedObjectKey","MessengerProfileLink.bs","MessengerProfileLinkLocation","React","TimeSpentRoomTypeEnum","TimeSpentRoomTypeEnum$FbtEnum","immutable","requireWeak"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("MessengerProfileLink.bs").jsComponent;c=b("React").PropTypes;var k;b("requireWeak")("MessengerThreadImageReact.bs",function(a){k=a.jsComponent});i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){var a=b("React").createElement(b("ImageBlock.react"),{className:"_llj"+(this.props.location===b("MercuryShareAttachmentRenderLocations").MESSENGER?" _2eu-":"")+(this.props.location===b("MercuryShareAttachmentRenderLocations").CHAT?" _2eu_":""),spacing:"large",style:this.props.style},this.$1(),b("React").createElement("div",{className:"_lll"},this.$2(),this.$3(),this.$4())),c=this.props.associatedObject;c&&c[b("MessageThreadAssociatedObjectKey").ACTION_LINK]&&(a=b("React").createElement(b("Link.react"),{href:c[b("MessageThreadAssociatedObjectKey").ACTION_LINK],target:"_blank",style:{textDecoration:"none"}},a));return a};a.prototype.$1=function(){var a=this.props.location===b("MercuryShareAttachmentRenderLocations").MESSENGER,c=this.props.associatedObject,d=null;if(!this.props.contactName&&c&&a)d=b("React").createElement(b("Image.react"),{className:"_4ld- _1wrc",src:c[b("MessageThreadAssociatedObjectKey").PROFILE_PICTURE]});else if(this.props.thread){c=k&&a?k:b("MercuryThreadImage.react");d=b("React").createElement(c,{showBadge:!1,participants:this.props.participants,size:a?60:null,thread:this.props.thread,viewer:this.props.viewer})}else this.props.participantIDs&&(d=b("React").createElement(b("MercuryParticipantsImage.react"),{participants:this.props.participantIDs,size:b("MercuryParticipantsConstants").BIG_IMAGE_SIZE}));return b("React").createElement("div",{className:"_llk"},d)};a.prototype.$2=function(){__p&&__p();if(this.props.location!==b("MercuryShareAttachmentRenderLocations").MESSENGER)return null;var a=this.props.isVerified?b("React").createElement(b("Badge.react"),{size:"medium",type:"verified"}):null,c=this.props.contactName;if(!c){var d=this.props.associatedObject;c=d?d[b("MessageThreadAssociatedObjectKey").NAME]:null}d=this.props.contactFBProfile;var e=this.props.contactID;return b("React").createElement("div",{className:"_llq"},b("React").createElement("span",{className:"_3oh-"},b("React").createElement(j,{href:d,location:b("MessengerProfileLinkLocation").CONTEXT_BANNER,name:c,uid:e}),a))};a.prototype.$3=function(){return b("React").createElement("div",{className:"_1n-e _36zg"},this.props.connectionContext)};a.prototype.$4=function(){__p&&__p();if(!this.props.contextItems.length){var a=this.props.associatedObject;if(a){a=b("TimeSpentRoomTypeEnum")[a[b("MessageThreadAssociatedObjectKey").ROOM_TYPE]];var c=b("CurrentUser").isWorkUser()?"Workplace":"Facebook";return b("React").createElement("div",{className:"_1n-e"},h._({"EVENT":"Acc\u00e9der \u00e0 l\u2019\u00e9v\u00e8nement {productName}","GROUP":"Acc\u00e9der au groupe {productName}"},[h._param("productName",c),h._enum(a,b("TimeSpentRoomTypeEnum$FbtEnum"))]))}return null}return b("React").createElement("div",null,this.props.contextItems.map(function(a,c){return b("React").createElement("div",{className:"_1n-e",key:"item:"+c},a)}))};function a(){i.apply(this,arguments)}a.propTypes={contactFBProfile:c.string,contactID:c.string,contactName:c.string,associatedObject:c.object,connectionContext:c.string,contextItems:c.arrayOf(c.string).isRequired,isVerified:c.bool,location:c.string.isRequired,participantIDs:c.arrayOf(c.string),participants:c.instanceOf(b("immutable").Map),thread:c.object,viewer:c.string.isRequired};e.exports=a}),null);
__d("XMessengerContextBannerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/messenger/context_banner/",{profile_id:{type:"Int",required:!0},max_context_items:{type:"Int",defaultValue:3}})}),null);
__d("MessengerContextInformationStore",["AsyncRequest","EventEmitter","TimeSlice","XMessengerContextBannerController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=new Map(),i=new Map();c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$MessengerContextInformationStore1=function(a){if(i.get(a))return;var c=b("XMessengerContextBannerController").getURIBuilder().setInt("profile_id",a).getURI();c=new(b("AsyncRequest"))().setAllowCrossPageTransition(!0).setURI(c).setHandler(this.$MessengerContextInformationStore2.bind(this,a));i.set(a,c);c.send()}.bind(this),c}a.prototype.getOrFetch=function(a){var c=h.get(a);c||b("TimeSlice").guard(this.$MessengerContextInformationStore1,"Chat Tab Messenger Context Banner Fetch",{propagationType:b("TimeSlice").PropagationType.ORPHAN})(a);return c};a.prototype.$MessengerContextInformationStore2=function(a,b){h.set(a,{connectionContext:b.payload.connection_context||"",contextItems:b.payload.context_items||[]}),i["delete"](a),this.emit("change")};e.exports=new a()}),null);
__d("PagesMessengerContextBanner.react",["cx","MercuryThreadImage.react","ProfileHeaderCoverPhoto.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=83,j=284,k=60;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){var a=this.props.coverPhotoData?b("React").createElement(b("ProfileHeaderCoverPhoto.react"),{coverPhotoData:this.props.coverPhotoData,height:i,width:j}):null;return b("React").createElement("div",{className:"_fj3"},a,b("React").createElement("div",{className:"_2-0o"},b("React").createElement(b("MercuryThreadImage.react"),{className:"_2gye",size:k,thread:this.props.thread,viewer:this.props.viewer})))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("MessengerContextBannerContainer.react",["DOMDimensions","MercuryIDs","MercuryShareAttachmentRenderLocations","MessengerContextBanner.react","MessengerContextInformationStore","MessengerParticipants.bs","PagesMessagingMercuryChatTabStore","PagesMessengerContextBanner.react","React","ReactComponentWithPureRenderMixin","ReactDOM","StoreAndPropBasedStateMixin","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;var g=b("React").createClass({displayName:"MessengerContextBannerContainer",mixins:[b("ReactComponentWithPureRenderMixin"),b("StoreAndPropBasedStateMixin")(b("MessengerContextInformationStore"),b("PagesMessagingMercuryChatTabStore"))],propTypes:{location:a.string.isRequired,onResize:a.func,otherUserFBIDs:a.arrayOf(a.string),thread:a.object,threadID:a.string,viewer:a.string.isRequired},statics:{calculateState:function(a){__p&&__p();var c=a.thread,d=null;c?d=c&&c.participants:a.otherUserFBIDs&&a.otherUserFBIDs.length===1&&(d=a.otherUserFBIDs.map(function(a){return b("MessengerParticipants.bs").getIDFromVanityOrFBID(a)}));var e=b("immutable").Map();d&&(e=e.withMutations(function(a){d&&d.forEach(function(c){a.set(c,b("MessengerParticipants.bs").getNow(c))})}));var f=null,h=null;c?(f=e.get(b("MercuryIDs").getParticipantIDFromFromThreadID(c.thread_id)),h=c.associated_object):f=d&&e.get(d[0]);c=b("PagesMessagingMercuryChatTabStore").getStateByThread(a.threadID);a=c.coverPhotoData;return babelHelpers["extends"]({associatedObject:h,contact:f,coverPhotoData:a,participantIDs:d,participants:e},g.getContextInformation(f&&f.fbid&&f.fbid.toString()))},getContextInformation:function(a){var c;a&&(c=b("MessengerContextInformationStore").getOrFetch(a.toString()));return c||{connectionContext:"",contextItems:[]}}},componentDidUpdate:function(){var a=b("ReactDOM").findDOMNode(this);if(!a)return;a=b("DOMDimensions").getElementDimensions(a).height;this.props.onResize&&this.props.onResize(a)},render:function(){if(!this.state.contact)return this.state.associatedObject&&this.props.location==b("MercuryShareAttachmentRenderLocations").MESSENGER?b("React").createElement(b("MessengerContextBanner.react"),{associatedObject:this.state.associatedObject,contextItems:this.state.contextItems,location:this.props.location,participantIDs:this.state.participantIDs,participants:this.state.participants,thread:this.props.thread,viewer:this.props.viewer}):null;if(this.state.contact.type==="page"){if(!this.state.connectionContext&&!this.state.contextItems.length)return null;if(this.props.location===b("MercuryShareAttachmentRenderLocations").CHAT)return b("React").createElement(b("PagesMessengerContextBanner.react"),{coverPhotoData:this.state.coverPhotoData,thread:this.props.thread,viewer:this.props.viewer})}return b("React").createElement(b("MessengerContextBanner.react"),{contactFBProfile:this.state.contact.href,contactID:this.state.contact.fbid,contactName:this.state.contact.name,connectionContext:this.state.connectionContext,contextItems:this.state.contextItems,isVerified:this.state.contact.is_verified,location:this.props.location,participantIDs:this.state.participantIDs,participants:this.state.participants,thread:this.props.thread,viewer:this.props.viewer})}});e.exports=g}),null);
__d("PhotoProjection",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({EQUIRECTANGULAR:"equirectangular",CUBESTRIP:"cubestrip",CYLINDRICAL:"cylindrical",TILED_CUBEMAP:"tiled_cubemap",PERSPECTIVE:"perspective",TRANSVERSE_CYLINDRICAL:"transverse-cylindrical"})}),null);
__d("PhotoRendererProjection",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PERSPECTIVE:"perspective",STEREOGRAPHIC:"stereographic",CYLINDRICAL:"cylindrical",EQUIRECTANGULAR:"equirectangular"})}),null);
__d("PhotosphereMetadata",["ImmutableRecordWithV4Types"],(function(a,b,c,d,e,f){"use strict";a=b("ImmutableRecordWithV4Types").Record;c=a({CroppedAreaImageHeightPixels:0,CroppedAreaImageWidthPixels:0,CroppedAreaLeftPixels:0,CroppedAreaTopPixels:0,FullPanoHeightPixels:0,FullPanoWidthPixels:0,InitialViewHeadingDegrees:0,InitialViewPitchDegrees:0,InitialViewRollDegrees:0,InitialViewVerticalFOVDegrees:0,PoseHeadingDegrees:0,PosePitchDegrees:0,PoseRollDegrees:0,PreProcessCropLeftPixels:0,PreProcessCropRightPixels:0,ProjectionType:"equirectangular",RendererProjectionType:"equirectangular"});e.exports={makePhotosphereMetadata:c}}),null);
__d("SphericalPhotoUtils",["PhotoRendererProjection","PhotosphereMetadata","SphericalPhotoPartialLimits"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("PhotoRendererProjection").PERSPECTIVE,h=b("PhotosphereMetadata").makePhotosphereMetadata,i=b("SphericalPhotoPartialLimits").makePartialLimits,j={getMetadataFromGraphQLResult:function(a){return{CroppedAreaImageHeightPixels:a.cropped_area_image_height_pixels!=null?a.cropped_area_image_height_pixels.toString():null,CroppedAreaImageWidthPixels:a.cropped_area_image_width_pixels!=null?a.cropped_area_image_width_pixels.toString():null,CroppedAreaLeftPixels:a.cropped_area_left_pixels!=null?a.cropped_area_left_pixels.toString():null,CroppedAreaTopPixels:a.cropped_area_top_pixels!=null?a.cropped_area_top_pixels.toString():null,FullPanoHeightPixels:a.full_pano_height_pixels!=null?a.full_pano_height_pixels.toString():null,FullPanoWidthPixels:a.full_pano_width_pixels!=null?a.full_pano_width_pixels.toString():null,InitialViewHeadingDegrees:a.initial_view_heading_degrees!=null?a.initial_view_heading_degrees.toString():null,InitialViewPitchDegrees:a.initial_view_pitch_degrees!=null?a.initial_view_pitch_degrees.toString():null,InitialViewRollDegrees:a.initial_view_roll_degrees!=null?a.initial_view_roll_degrees.toString():null,InitialViewVerticalFOVDegrees:a.initial_view_vertical_fov_degrees!=null?a.initial_view_vertical_fov_degrees.toString():null,PoseHeadingDegrees:a.pose_heading_degrees!=null?a.pose_heading_degrees.toString():null,PosePitchDegrees:a.pose_pitch_degrees!=null?a.pose_pitch_degrees.toString():null,PoseRollDegrees:a.pose_roll_degrees!=null?a.pose_roll_degrees.toString():null,PreProcessCropLeftPixels:null,PreProcessCropRightPixels:null,ProjectionType:a.projection_type,RendererProjectionType:g}},calculatePartialLimits:function(a){__p&&__p();var b=a.FullPanoHeightPixels,c=a.FullPanoWidthPixels,d=a.CroppedAreaImageWidthPixels,e=a.CroppedAreaImageHeightPixels,f=a.CroppedAreaLeftPixels;a=a.CroppedAreaTopPixels;b=j.parseNumber(b);c=j.parseNumber(c);d=j.parseNumber(d);e=j.parseNumber(e);f=j.parseNumber(f);a=j.parseNumber(a);var g,h,k,l;if(d!==0&&d!==c){d=360*d/c;d<350&&(g=180*(1-2*f/c),h=d-g)}e!==0&&e!==b&&(a!==0&&(k=90*(1-2*a/b)),a+e!==b&&(l=180*(a+e-b/2)/b));f=null;c=null;d=null;a=null;k&&k<87.5&&(c=k);l&&l<87.5&&(f=l);g&&(d=g);h&&(a=h);return i({partialTopDegrees:c,partialBottomDegrees:f,partialLeftDegrees:d,partialRightDegrees:a})},parseNumber:function(a){return a?Number(a):0},getThumbnailsFromPhotoEncodings:function(a){a=a.find(function(a){return a.projection_type===g});var b=null,c=null;if(a&&a.thumbnails&&a.thumbnails.length>0){a=a.thumbnails;b=a[0]?a[0].uri:null;c=a[1]?a[1].uri:null}return{smallThumbnail:b,largeThumbnail:c}},photosphereMetadataStringToNumber:function(a){var b={};Object.keys(a).forEach(function(c){switch(c){case"ProjectionType":b.ProjectionType=a.ProjectionType;break;case"RendererProjectionType":b.RendererProjectionType=a.RendererProjectionType;break;default:b[c]=parseInt(a[c],10)}});return h(b)}};e.exports=j}),null);
__d("DialogFitHeight",["AbstractDialogFitHeight"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("AbstractDialogFitHeight"));g&&g.prototype;a.prototype.getHeightProperty=function(){"use strict";return"height"};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("StickersStateStore",["FluxReduceStore","StickersActions","StickersConfig","StickersDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return b("immutable").Map({recentStickers:[],recentStickersLoaded:!1,showFlyout:!1,storePackID:null,threadID:null,trayLoaded:!1,trayPackID:null})};a.prototype.reduce=function(a,c){__p&&__p();var d=c;c=b("StickersActions").Types;switch(d.type){case c.ADD_RECENT_STICKER:var e=[d.sticker];a.get("recentStickers").forEach(function(a){if(a.id===d.sticker.id)return;e.push(a)});return a.set("recentStickers",e.splice(0,b("StickersConfig").max_mru_stickers));case c.HIDE_FLYOUT:return a.set("showFlyout",!1);case c.LOAD_RECENT_STICKERS:return a.set("recentStickersLoaded",!0).set("recentStickers",d.stickers);case c.SELECT_STORE_PACK:return a.set("storePackID",d.packID);case c.SELECT_TRAY_PACK:return a.set("trayPackID",d.packID).set("trayLoaded",!0);case c.SHOW_FLYOUT:return a.set("showFlyout",!0).set("threadID",d.threadID);case c.TRAY_LOADED:return a.set("trayLoaded",!0);default:return a}};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("StickersDispatcher"))}),null);
__d("StickersStoreController",["cx","Bootloader","DialogFitHeight","DOM","LayerAutoFocus","LayerFadeOnHide","LayerHideOnEscape","PureStoreBasedStateMixin","React","ReactDOM","StickersActions","StickersDispatcher","StickersStateStore","XUIDialog.react","XUIDialogBody.react","XUISpinner.react","isSocialPlugin","requestAnimationFrame"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;var h=688,i=320,j=null,k=b("React").createClass({displayName:"StoreLayer",mixins:[b("PureStoreBasedStateMixin")(b("StickersStateStore"))],propTypes:{isComposer:a.bool,onToggle:a.func.isRequired,shown:a.bool.isRequired},getDefaultProps:function(){return{isComposer:!1}},statics:{calculateState:function(){return{packID:b("StickersStateStore").getState().get("storePackID")}}},getInitialState:function(){return{renderStore:function(){return b("React").createElement("div",{className:"_5r5e"},b("React").createElement(b("XUISpinner.react"),{background:"light",size:"large"}))}}},UNSAFE_componentWillMount:function(){b("StickersDispatcher").explicitlyRegisterStores([b("StickersStateStore")])},shouldComponentUpdate:function(a){return!!a.shown},componentDidMount:function(){b("Bootloader").loadModules(["StickersStore.react","react-relay/classic/container/RelayRootContainer","StickersStorePackListRoute","StickersStorePackDetailRoute"],function(a,c,d,e){this.setState({renderStore:function(){var f=this.state.packID?new e({packID:this.state.packID}):new d();return b("React").createElement(c,{Component:a,route:f,renderFetched:function(c){return b("React").createElement(a,babelHelpers["extends"]({},c,{isComposer:this.props.isComposer,packID:this.state.packID,shown:this.props.shown}))}.bind(this)})}.bind(this)})}.bind(this),"StickersStoreController")},_onToggle:function(a){b("requestAnimationFrame")(function(){return this.props.onToggle(a)}.bind(this))},render:function(){var a=b("isSocialPlugin")()&&document.body.offsetWidth<h?i:h;return b("React").createElement(b("XUIDialog.react"),{behaviors:{DialogFitHeight:b("DialogFitHeight"),LayerAutoFocus:b("LayerAutoFocus"),LayerFadeOnHide:b("LayerFadeOnHide"),LayerHideOnEscape:b("LayerHideOnEscape")},onToggle:this._onToggle,shown:this.props.shown,width:a},b("React").createElement(b("XUIDialogBody.react"),{className:"_5rq- autofocus"},this.state.renderStore()))}}),l=function(a){j||(j=b("DOM").create("div"),b("DOM").appendContent(document.body,j)),b("ReactDOM").render(b("React").createElement(k,{isComposer:a,onToggle:n,shown:!0}),j)},m=function(){if(!j)return;b("ReactDOM").render(b("React").createElement(k,{shown:!1,onToggle:n}),j)},n=function(a){a?l():m()};c={showStore:function(a,c){b("StickersActions").selectStorePack(a),l(!!c)}};e.exports=c}),null);
__d("MessengerNewMessagesNoticeReact.bs",["cx","ix","fbt","React","LinkReact.bs","ImageReact.bs","ReasonReact.bs"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=h("86939"),k=i._("Nouveaux messages"),l=b("ReasonReact.bs").statelessComponent("MessengerNewMessagesNoticeReact");function m(a,c,d,e){var f=d!==undefined?d:k;return[l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],function(){return b("React").createElement("div",{"aria-hidden":!a,className:"_4wzq"+(a?" _4wzr":"")+(a?"":" _4-je")},b("ReasonReact.bs").element(undefined,undefined,b("LinkReact.bs").make(undefined,undefined,undefined,"_5f0v _4wzs",undefined,undefined,undefined,undefined,undefined,undefined,undefined,c,undefined,undefined,undefined,undefined,undefined,a?0:-1,undefined,undefined,[b("ReasonReact.bs").element(undefined,undefined,b("ImageReact.bs").make("_4wzt",undefined,undefined,undefined,j,undefined,undefined,undefined,undefined,[])),b("React").createElement("div",{className:"_1bqr"},f)])))},l[9],l[10],l[11],l[12]]}a=b("ReasonReact.bs").wrapReasonForJs(l,function(a){return m(a.isOpen,a.onClick,a.label,[])});f.newMessageSrc=j;f.defaultLabel=k;f.component=l;f.make=m;f.jsComponent=a}),null);
__d("MessengerPlatformSubscriptionMessageClassification",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({EXEMPTED_TEMPLATE_MESSAGE:"exempted_template_message",MESSAGE_WITHIN_24HRS:"message_within_24hrs",SUBSCRIPTION_MESSAGE:"subscription_message",ACCEPTABLE_EXTRA_MESSAGE:"acceptable_extra_message",UNACCEPTABLE_EXTRA_MESSAGGE:"unacceptable_extra_message",AD_MESSAGE:"ad_message",FREE_LIMIT:"FREE_LIMIT"})}),null);
__d("create-react-class",["create-react-class/factory","react"],(function(a,b,c,d,e,f){"use strict";if(typeof b("react")==="undefined")throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");a=new(b("react").Component)().updater;e.exports=b("create-react-class/factory")(b("react").Component,b("react").isValidElement,a)}),null);
__d("createReactClass_DEPRECATED",["create-react-class"],(function(a,b,c,d,e,f){"use strict";e.exports=b("create-react-class")}),null);
__d("MessengerConversation.react",["ix","csx","cx","fbt","Bootloader","BootloadOnRender.react","ChatTypingIndicatorsWrapper.bs","CSS","CurrentUser","DOM","DOMDimensions","ErrorBoundary.react","Event","EventProfiler","Image.react","ImmutableObject","JSResource","KeyEventController","LazyComponent.react","Link.react","MercuryActionType","MercuryIDs","MercuryShareAttachmentRenderLocations","MessageList.react","MessengerActions","MessengerAttachmentRenderer","MessengerBootloadedLogMessage.react","MessengerButtonReact.bs","MessengerCollapsedLogMessageGroup.react","MessengerContextBannerContainer.react","MessengerDateBreak.react","MessengerFlexScrollableArea.react","MessengerMessageGroup.react","MessengerNewMessagesNoticeReact.bs","MessengerPlatformSubscriptionMessageClassification","MessengerQuickCamOrigins","MessengerQuickReplyUtils","MessengerReadReceipt.bs","MessengerSpinner.react","MessengerTypingIndicator.react","MessengerVideoAutoplayActions","MessengerVideoAutoplayStore","MessengerViewerContactMethodsWebGraphQLQuery","Parent","Placeholder.react","React","ReactDOM","SubscriptionsHandler","UserActivity","WebGraphQL","WebMessengerConstants","WorkBotLandingPageHelper","asset","getPageIDFromThreadID","gkx","ifRequired","immutable","joinClasses","lazyLoadComponent","promiseDone","setImmediate","throttle"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l=b("ChatTypingIndicatorsWrapper.bs").jsComponent,m=b("MessengerButtonReact.bs").jsComponent,n=b("MessengerNewMessagesNoticeReact.bs").jsComponent,o=b("WorkBotLandingPageHelper").shouldShowBotLandingPage;b("immutable").OrderedMap;c=b("React").PropTypes;var p=20,q=100,r=1e3,s=b("lazyLoadComponent")(b("JSResource")("WorkChatBotConversationGreetingContainer.react").__setRef("MessengerConversation.react"));function t(event,a){return!!(b("KeyEventController").filterEventTypes(event,a)&&b("KeyEventController").filterEventModifiers(event,a)&&event.target instanceof Element&&b("Parent").bySelector(event.target,"._4_j4"))}d=babelHelpers.inherits(a,b("React").PureComponent);k=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=k.constructor).call.apply(a,[this].concat(e)),this.state={readReceipts:u(this.props),scrollingToUnreadMessage:!1,showUnreadNotice:!1,unreadCount:this.props.thread?this.props.thread.unread_count:0,width:0,viewerEmail:null,viewerPhone:null,shouldJumpToMessage:!1,isLandingPageDismissed:!1},this.$1=null,this.$2=null,this.$4=[],this.$5={originalScrollHeight:0,originalScrollTop:0},this.$15=function(){__p&&__p();var a=this.$17();if(!this.refs||!a||this.props.isLoading){this.$4=[];return}var c=b("getPageIDFromThreadID")(this.props.threadID),d=this.refs.messageList;if(!d||!c){this.$4=[];return}var e=10,f=a.getElement().getBoundingClientRect(),g=[];this.$3.forEach(function(a){var d=a.message_id,h=this.refs.messageList.getMessageElement(d);if(h){h=h.getBoundingClientRect();h.top>f.top-e&&h.bottom<f.bottom+e&&(g.push(d),this.$4.includes(d)||b("Bootloader").loadModules(["MessengerAdsWebLogger","MNAdsLoggerEventEnum"],function(b,e){b.log(a.ad_client_token,a.ad_id,e.MESSAGE_SEEN_THREAD,!0,d,c)},"MessengerConversation.react"))}}.bind(this),this);this.$4=g}.bind(this),this.$35=function(){this.setState({isLandingPageDismissed:!0})}.bind(this),this.$8=function(){var a=this.$17();a&&a.pageUp();return!1}.bind(this),this.$9=function(){var a=this.$17();a&&a.pageDown();return!1}.bind(this),this.$10=function(a){if(a.target===document.body){this.scrollToTop();return!1}return null}.bind(this),this.$11=function(a){if(a.target===document.body){this.scrollToBottom();return!1}return null}.bind(this),this.$14=function(){__p&&__p();if(!this.refs)return;if(!this.refs.scrollable)return;var a=this.$17(),c=this.refs.quickReply;c&&b("CSS").conditionClass(c,"_1mzg",!this.isScrolledToBottom());this.$12();this.$13();a&&this.state.unreadCount&&this.$22(a)&&this.setState({showUnreadNotice:!1,unreadCount:0});this.$37(a);this.$38(a);this.$7()}.bind(this),this.$36=function(a){a.preventDefault(),this.setState({showUnreadNotice:!1}),this.$19()}.bind(this),this.$13=function(){if(this.props.messages.size===0||this.props.thread&&this.props.thread.unread_count===0||!this.isScrolledToBottom())return;b("UserActivity").isOnTab()&&b("UserActivity").isActive()?this.props.onRead(this.props.threadID):this.$2||(this.$2=b("UserActivity").subscribe(function(){b("UserActivity").isOnTab()&&(this.$16(),this.props.onRead(this.props.threadID))}.bind(this)))}.bind(this),this.handleResize=function(){__p&&__p();if(!this.refs)return;if(this.refs.scrollable){this.refs.scrollable.handleResize();var a=b("DOMDimensions").getElementDimensions(b("ReactDOM").findDOMNode(this.refs.scrollable)).width;a!==this.state.width&&this.setState({width:a})}a=this.refs.quickReply;a&&b("CSS").conditionClass(a,"_1mzg",!this.isScrolledToBottom());this.trackBottomIfRequired()}.bind(this),this.$32=function(a){this.props.messages.some(function(b){return b.message_id===a})?this.$21(a):(this.setState({shouldJumpToMessage:!0}),b("MessengerActions").changeMid(a))}.bind(this),c}a.prototype.componentDidMount=function(){__p&&__p();var a=new(b("SubscriptionsHandler"))();a.addSubscriptions(b("Event").listen(window,"resize",b("throttle")(this.handleResize,50)),b("KeyEventController").registerKey("PAGE_UP",this.$8,t),b("KeyEventController").registerKey("PAGE_DOWN",this.$9,t),b("KeyEventController").registerKey("HOME",this.$10,t),b("KeyEventController").registerKey("END",this.$11,t));this.$1=a;this.$12();this.handleResize();this.$13();this.$6=b("throttle")(this.$14,q);this.$7=b("throttle")(this.$15,r);this.$3=this.props.messages.filter(function(a){return a.is_sponsored});this.$7()};a.prototype.UNSAFE_componentWillReceiveProps=function(a){var b=a.threadID!==this.props.threadID;b&&(this.$16(),this.setState({scrollingToUnreadMessage:!1,showUnreadNotice:!1,unreadCount:a.thread?a.thread.unread_count:0,isLandingPageDismissed:!1}));(b||a.messages!==this.props.messages)&&(this.$3=a.messages.filter(function(a){return a.is_sponsored}));this.setState({readReceipts:u(a)})};a.prototype.componentWillUnmount=function(){this.$16(),this.$1&&this.$1.release()};a.prototype.UNSAFE_componentWillUpdate=function(a){a=this.$17();a?this.$5={originalScrollHeight:a.getScrollHeight(),originalScrollTop:a.getScrollTop()}:this.$5={originalScrollHeight:0,originalScrollTop:0}};a.prototype.componentDidUpdate=function(a,c){__p&&__p();if(!this.refs)return;if(!this.refs.scrollable)return;c=this.props.threadID!==a.threadID;if(c||v(a,this.props))this.scrollToBottom(),this.$18();else{var d=this.$17();if(d){var e=d.getScrollHeight();if(e!==this.$5.originalScrollHeight){e=d.getScrollHeight()-this.$5.originalScrollHeight+this.$5.originalScrollTop;this.refs.scrollable.scrollToPosition(e)}else this.$18()}}this.props.messages!==a.messages&&(this.$13(),this.state.scrollingToUnreadMessage&&this.$19(),this.$20());d=this.props.selectedMessage;this.state.shouldJumpToMessage&&d&&this.$21(d,function(){this.setState({shouldJumpToMessage:!1})}.bind(this));setTimeout(function(){var a=this.$17();this.trackBottomIfRequired();a&&this.state.unreadCount&&!this.state.scrollingToUnreadMessage&&!this.props.isLoading&&(this.$22(a)?this.setState({showUnreadNotice:!1,unreadCount:0}):this.props.messages.size==1&&this.props.messages.last().log_message_type!==null?this.setState({showUnreadNotice:!1,unreadCount:0}):this.setState({showUnreadNotice:!0}));this.$12();this.$7()}.bind(this),0);e=a.messages&&a.messages.size||0;d=this.props.messages&&this.props.messages.size||0;(c||e===0&&(d>0||!this.props.isLoading))&&b("EventProfiler").informManualInteractionTimestamp(["MessengerThredRow"],!0,"click")};a.prototype.render=function(){__p&&__p();if(this.props.isLoading&&this.props.messages.isEmpty())return this.$23();var a=this.props.messages.last(),c=b("MercuryIDs").getParticipantIDFromUserID(this.props.viewer),d=this.$24(a),e=this.$25(a);this.$26(a);c=a&&a.author!==c?d||e:null;d=null;if(Array.isArray(c)){e=c.every(function(a){return a.content_type==="user_email"&&this.state.viewerEmail===null||a.content_type==="user_phone_number"&&this.state.viewerPhone===null}.bind(this));if(!e){e=b("MessengerQuickReplyUtils").localizeTitleIfNecessary(c);d=b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{options:e,threadID:a.thread_id,onVoiceClipCreate:this.props.onVoiceClipCreate,viewer:this.props.viewer,quickCamOriginLocation:b("MessengerQuickCamOrigins").MESSENGER,messageId:a.message_id,pageId:b("MercuryIDs").getUserIDFromParticipantID(a.author),isMessengerAdPreview:this.props.isMessengerAdPreview,isSponsored:a.is_sponsored,viewerEmail:this.state.viewerEmail,viewerPhone:this.state.viewerPhone}),loader:b("JSResource")("MessengerBotsQuickReplyButtonList.react").__setRef("MessengerConversation.react"),placeholder:b("React").createElement("div",null)})}}c=null;e=null;d&&(c=b("React").createElement("div",{className:"_51op"},b("React").createElement("div",{className:"_51oq",onResize:this.handleResize})),e=b("React").createElement("div",{ref:"quickReply",className:"_1mzb",onResize:this.handleResize},d));a=j._("Messages");d=j._("Charger plus...");var f=this.$27();return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("MessengerFlexScrollableArea.react"),{className:this.props.className,flexChildren:this.$28(),footerChildren:e,onMount:function(){return b("setImmediate")(this.$13)}.bind(this),onScroll:this.props.useManualFetch?undefined:this.$6,ref:"scrollable",shouldStickToBottom:!0,tabIndex:0},b("React").createElement("div",{"aria-label":a,className:b("joinClasses")("__i_",this.props.innerClassName),role:"region"},b("React").createElement("h3",{className:"accessible_elem"},a),this.$29(),this.props.useManualFetch&&!this.props.upExhausted?b("React").createElement(m,{className:"_41jf",label:d,onClick:function(){return this.props.fetchMessages(b("WebMessengerConstants").MORE_SEARCH_CONTEXT_UP)}.bind(this),type:"primary",use:"default"}):null,this.$30(),f||b("React").createElement(b("MessageList.react"),{DateBreak:b("MessengerDateBreak.react"),deliveryTimestamp:this.props.deliveryTimestamp,isCanonical:this.props.isCanonical,LogMessage:b("MessengerBootloadedLogMessage.react"),CollapsedLogMessageGroup:b("MessengerCollapsedLogMessageGroup.react"),MessageGroup:b("MessengerMessageGroup.react"),messages:this.props.messages,onAttachmentLoad:this.$31(this.props.threadID),onReplyToMessage:this.props.onReplyToMessage,readReceipts:this.state.readReceipts,ref:"messageList",location:b("MercuryShareAttachmentRenderLocations").MESSENGER,viewer:this.props.viewer,thread:this.props.thread,scrollToRepliedMessage:this.$32}),this.props.useManualFetch&&!this.props.downExhausted?b("React").createElement(m,{className:"_41jf",label:d,onClick:function(){return this.props.fetchMessages(b("WebMessengerConstants").MORE_SEARCH_CONTEXT_DOWN)}.bind(this),type:"primary",use:"default"}):null,b("React").createElement(l,{indicatorClass:b("MessengerTypingIndicator.react"),indicatorsDidShow:function(){this.trackBottomIfRequired()}.bind(this),rootClassName:"clearfix _17pz",threadID:this.props.threadID,viewer:this.props.viewer}),b("gkx")("678591")&&b("React").createElement(b("ErrorBoundary.react"),{project:"omnim"},b("React").createElement(b("BootloadOnRender.react"),{loader:b("JSResource")("OmniMSuggestionsContainer.react").__setRef("MessengerConversation.react"),placeholder:b("React").createElement("div",null),component:b("React").createElement(b("LazyComponent.react"),{threadID:this.props.threadID,trackBottom:function(){return this.trackBottomIfRequired()}.bind(this)})})),c)),this.$33())};a.prototype.$34=function(){var a;if(!this.props.contact||!this.props.thread)return!1;a=((a=this.props.thread)!=null?a.is_canonical_neo_user:a)||!1;return a?!1:!!b("getPageIDFromThreadID")(this.props.threadID)};a.prototype.$27=function(){if(!b("CurrentUser").isWorkUser())return null;if(!this.$34())return null;if(this.state.isLandingPageDismissed===!0)return null;return b("gkx")("678590")&&this.props.contact&&o(this.props.messages)?b("React").createElement(b("Placeholder.react"),{fallback:b("React").createElement(b("MessengerSpinner.react"),null)},b("React").createElement(s,{contact:this.props.contact,threadID:this.props.threadID,onDismiss:this.$35})):null};a.prototype.$33=function(){__p&&__p();var a=this.$17();if(a){a=a.getElement().getBoundingClientRect().height;a=a-74;a+="px";a={top:a}}else a={bottom:"15%"};return this.props.useManualFetch&&!this.props.isSearchResult?b("React").createElement(b("Link.react"),{style:a,className:"_69xg",onClick:function(){return b("MessengerActions").changeMid(null)}},b("React").createElement(b("Image.react"),{className:"_69xi",src:g("415099")})):null};a.prototype.$24=function(a){var c=null;a=a&&a.platform_xmd&&JSON.parse(a.platform_xmd);var d=a&&a.message_classification===b("MessengerPlatformSubscriptionMessageClassification").AD_MESSAGE;d&&Array.isArray(a&&a.quick_replies)&&(c=a&&a.quick_replies);return c};a.prototype.$25=function(a){a=a&&a.platform_xmd&&JSON.parse(a.platform_xmd);return Array.isArray(a&&a.quick_replies)?a&&a.quick_replies:null};a.prototype.$12=function(){if(this.props.useManualFetch)return;var a=this.$17();a&&a.getScrollTop()<p&&(this.props.fetchMessages(b("WebMessengerConstants").MORE_SEARCH_CONTEXT_UP),this.$20())};a.prototype.$26=function(a){__p&&__p();a=this.$25(a);if(!a)return;a.some(function(a){return a.content_type==="user_email"||a.content_type==="user_phone_number"})&&b("promiseDone")(b("WebGraphQL").exec(new(b("MessengerViewerContactMethodsWebGraphQLQuery"))({})),function(a){var b;b=(b=a)!=null?(b=b.viewer)!=null?(b=b.user)!=null?b.all_phones:b:b:b;a=(a=a)!=null?(a=a.viewer)!=null?a.all_emails:a:a;var c=b?b.find(function(a){return a.is_preferred}):null;!c&&b&&(c=b[0]);b=a?a.find(function(a){return a.is_primary}):null;this.setState({viewerEmail:(a=b)!=null?a.display_email:a,viewerPhone:(b=c)!=null?(b=b.phone_number)!=null?b.universal_number:b:b})}.bind(this))};a.prototype.isScrolledToBottom=function(){return!!(this.refs.scrollable&&this.refs.scrollable.isScrolledToBottom())};a.prototype.isScrolledToBottomWithHeight=function(a){return!!(this.refs.scrollable&&this.refs.scrollable.isScrolledToBottomWithHeight(a))};a.prototype.$28=function(){return b("React").createElement(n,{isOpen:this.state.showUnreadNotice,label:j._({"*":"{number} messages non lus","_1":"1 message non lu"},[j._plural(this.state.unreadCount,"number")]),onClick:this.$36})};a.prototype.$29=function(){return!this.props.isLoaded?null:b("React").createElement(b("MessengerContextBannerContainer.react"),{location:b("MercuryShareAttachmentRenderLocations").MESSENGER,thread:this.props.thread,threadID:this.props.threadID,viewer:this.props.viewer})};a.prototype.$30=function(){return this.props.isLoaded?null:b("React").createElement("div",{className:"_2k8v"},this.props.isLoading?b("React").createElement(b("MessengerSpinner.react"),null):null)};a.prototype.$23=function(){return b("React").createElement("div",{className:"_4xu0"},b("React").createElement(b("MessengerSpinner.react"),{className:"_4xu1",size:b("MessengerSpinner.react").large_size}))};a.prototype.trackBottomIfRequired=function(){if(!this.refs)return;this.refs.scrollable&&this.refs.scrollable.trackBottomIfRequired()};a.prototype.scrollToBottom=function(){if(!this.refs)return;this.refs.scrollable&&this.refs.scrollable.scrollToBottom()};a.prototype.scrollToTop=function(a){if(!this.refs)return;this.refs.scrollable&&this.refs.scrollable.scrollToTop(a)};a.prototype.$31=function(a){return function(){if(this.props.threadID!==a)return;this.trackBottomIfRequired()}.bind(this)};a.prototype.$18=function(){b("DOM").scry(b("ReactDOM").findDOMNode(this),"img").forEach(function(a){if(a.complete)return;var c=this.props.threadID,d=b("Event").listen(a,"load",function(){this.props.threadID===c&&this.trackBottomIfRequired(),d.remove()}.bind(this))}.bind(this))};a.prototype.$39=function(){var a=this.props.messages,b=this.state.unreadCount;return!b||b>a.size?null:a.get(a.size-b)};a.prototype.$22=function(a){__p&&__p();var b=this.props.messages,c=this.$39();if(!c)return!1;var d=a.getElement().getBoundingClientRect();return b.filter(function(a){return a&&a.timestamp<=c.timestamp}).some(function(a){a=this.refs.messageList.getMessageElement(a.message_id);if(!a)return!1;a=a.getBoundingClientRect();return a.bottom>d.top&&a.top<d.bottom}.bind(this))};a.prototype.$40=function(a){return!!this.props.messages.find(function(b){return b.message_id===a})};a.prototype.$19=function(){__p&&__p();if(!this.state.unreadCount)return;this.setState({scrollingToUnreadMessage:!0});var a=this.$39();if(!a){this.scrollToTop(!1);return}this.$21(a.message_id,function(){this.setState({scrollingToUnreadMessage:!1,unreadCount:0})}.bind(this))};a.prototype.$21=function(a,c){this.refs.scrollable&&this.refs.scrollable.overrideTrackBottom(!1);a=this.refs.messageList.getMessageElement(a,!0);var d=this.$17();if(!a||!d)return;a=a.getBoundingClientRect().top;var e=b("ReactDOM").findDOMNode(this.refs.messageList).getBoundingClientRect().top,f=d.getElement().getBoundingClientRect().height;a=a+Math.abs(e)-f/2;d.setScrollTop(a,!0,{callback:c})};a.prototype.$17=function(){if(!this.refs)return;return this.refs.scrollable&&this.refs.scrollable.getArea()};a.prototype.$16=function(){this.$2&&this.$2.unsubscribe(),this.$2=null};a.prototype.$41=function(){return this.props.messages.filter(function(a){return b("MessengerAttachmentRenderer").isSingleVideoAttachment(a)||b("MessengerAttachmentRenderer").isSharedVideoAttachmentMessage(a)}).reverse().map(function(a){return a.message_id})};a.prototype.$37=function(a){__p&&__p();var c=this.refs.messageList;if(!c||!a)return;var d=[];a=a.getElement().getBoundingClientRect();var e=b("MessengerVideoAutoplayStore").getMessageIDs(this.props.threadID),f=e||this.$41()||b("immutable").List();f.map(function(a){var e=b("MessengerAttachmentRenderer").getVideoElem(a,c);e&&d.push([a,e.getBoundingClientRect()])});d.length&&b("MessengerVideoAutoplayActions").onScroll(this.props.threadID,e?null:f,b("immutable").Map(d),a)};a.prototype.$42=function(){return this.props.messages.filter(function(a){return b("MessengerAttachmentRenderer").isSingleSphericalPhotoAttachment(a)}).map(function(a){return a.message_id})};a.prototype.$38=function(a){__p&&__p();b("ifRequired")("MessengerSphericalRendererActions",function(c){__p&&__p();b("ifRequired")("MessengerSphericalRendererStore",function(d){__p&&__p();var e=this.refs.messageList;if(!e||!a)return;var f=[],g=a.getElement().getBoundingClientRect();d=d.getMessageIDs(this.props.threadID);d=d||this.$42()||b("immutable").List();d.map(function(a){var c=b("MessengerAttachmentRenderer").getSphericalPhotoElem(a,e);c&&f.push([a,c.getBoundingClientRect()])});f.length&&c.onScroll(this.props.threadID,d,b("immutable").Map(f),g)}.bind(this),function(){})}.bind(this),function(){})};a.prototype.$20=function(){b("MessengerVideoAutoplayActions").updateStore(this.props.threadID,this.$41());var a=this.$42();a&&a.count()!==0&&b("ifRequired")("MessengerSphericalRendererActions",function(b){b.updateStore(this.props.threadID,a)}.bind(this),function(){b("Bootloader").loadModules(["MessengerSphericalRendererActions","MessengerSphericalRendererStore"],function(b,c){b.updateStore(this.props.threadID,a)}.bind(this),"MessengerConversation.react")}.bind(this))};a.propTypes={contact:c.instanceOf(b("ImmutableObject")),deliveryTimestamp:c.number.isRequired,downExhausted:c.bool,fetchMessages:c.func.isRequired,innerClassName:c.string,isCanonical:c.bool,isLoaded:c.bool,isLoading:c.bool,isMessengerAdPreview:c.bool,messages:c.instanceOf(b("immutable").List).isRequired,onVoiceClipCreate:c.func,onReplyToMessage:c.func,readReceipts:c.any,thread:c.object,threadID:c.string.isRequired,upExhausted:c.bool,useManualFetch:c.bool,viewer:c.string.isRequired,selectedMessage:c.string,isSearchResult:c.bool};function u(a){__p&&__p();var c=b("MercuryIDs").getParticipantIDFromUserID(a.viewer),d=b("MessengerReadReceipt.bs").getSeenTimestamps(a.readReceipts,a.threadID),e=new Set(a.thread?a.thread.participants:d.keys());e["delete"](c);var f=null;b("immutable").Seq(a.messages).reverse().forEach(function(a){if(a.action_type!==b("MercuryActionType").LOG_MESSAGE){f=a;return!1}return!0});return d.withMutations(function(c){__p&&__p();b("immutable").Seq(a.messages).reverse().forEach(function(a){__p&&__p();if(e.size===0)return!1;if(!e.has(a.author))return;c.update(a.author,function(b){var c=b;(!b||b.watermark<=a.timestamp)&&(c={watermark:a.timestamp,action:a.timestamp});f&&f.timestamp<c.watermark&&(c={watermark:f.timestamp,action:f.timestamp});return c});e["delete"](a.author)})})}function v(a,c){var d=b("MercuryIDs").getParticipantIDFromUserID(c.viewer);return c.threadID===a.threadID&&c.messages!==a.messages&&!c.messages.isEmpty()&&c.messages.last()!==a.messages.last()&&c.messages.last().author===d}e.exports=a}),null);
__d("MessengerAudioAvailableIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").createElement("svg",{height:"32px",width:"32px",viewBox:"0 0 36 36"},b("React").createElement("g",{id:"phone",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},b("React").createElement("polygon",{id:"Fill-8",points:"0 36 36 36 36 0 0 0"}),b("React").createElement("path",{id:"Fill-11",d:"M12.8546683,23.0915802 C10.2003459,20.4371382 8.18827548,17.4933995 7.18895039,14.801598 C6.11677282,11.9134196 6.30082118,9.54827444 7.70754499,8.14106577 C8.38574404,7.46332572 9.22115105,6.9556194 9.80301228,6.64860076 C10.1768605,6.45174482 10.6202062,6.44887101 10.9902201,6.6495587 C12.2608248,7.33735708 14.2542027,9.8624776 14.6055242,11.228016 C14.6980277,11.5867632 14.6266131,11.9694589 14.4094936,12.2774354 L12.8029047,14.5630718 C12.7056083,14.7019726 12.682123,14.8820647 12.7415553,15.0406032 C13.4096892,16.8233229 14.2192144,18.3129141 15.9254961,20.01852 C17.6303399,21.7246049 19.1209399,22.5340612 20.904867,23.2027008 C21.0635129,23.2625718 21.2432476,23.2391024 21.3822424,23.1413929 L23.6205389,21.5679822 C23.9339963,21.3476569 24.313596,21.2868279 24.6572488,21.3696894 C26.1948195,21.7356211 28.7992956,23.6898115 29.3811568,24.9135753 C29.5474713,25.2637011 29.5388441,25.6674713 29.3576715,26.0209499 C29.0993327,26.5267404 28.5534185,27.4875506 27.8018877,28.2395308 C24.2474537,31.7915592 16.8807262,27.1187451 12.8546683,23.0915802",fill:a})))}f.make=a}),null);
__d("MessengerAudioUnavailableIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").createElement("svg",{height:"32px",width:"32px",viewBox:"0 0 36 36"},b("React").createElement("g",{id:"phone-missed",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},b("React").createElement("polygon",{id:"Fill-4",points:"0 36 36 36 36 0 0 0"}),b("React").createElement("path",{id:"new",d:"M21.3821106,23.1416542 L23.6204291,21.5682415 C23.9343688,21.3479158 24.313493,21.2866078 24.6571492,21.3694694 C26.194735,21.7354016 28.7997159,23.6900735 29.3811036,24.9138389 C29.5474198,25.2639652 29.5387924,25.667257 29.3580973,26.0212149 C29.0997561,26.5265271 28.5538364,27.4878176 27.8022982,28.2393197 C24.24735,31.7918318 16.8805501,27.1185326 12.8549319,23.0918414 C10.200104,20.437396 8.18849316,17.4931744 7.18915824,14.8013694 C6.11649083,11.9131872 6.3010203,9.54803895 7.70775794,8.14130741 C8.38548436,7.4630875 9.22137889,6.95538051 9.80276654,6.64884044 C10.1766185,6.45150527 10.6199685,6.44911042 10.989986,6.64931941 C12.2610825,7.33759766 14.2544801,9.86224252 14.605805,11.2282617 C14.6978301,11.5865304 14.6264148,11.9692265 14.4097724,12.2776825 L12.8031678,14.5633219 C12.7053911,14.7017439 12.6823849,14.8818362 12.7418177,15.0403749 C13.4099582,16.823097 14.2194914,18.3126901 15.9253105,20.0182982 C17.6306504,21.7243853 19.1212651,22.5343216 20.9047304,23.2029622 C21.0633779,23.2623543 21.2435936,23.2388848 21.3821106,23.1416542 M29.7074342,7.70752502 L25.9144427,11.4999687 L29.7074342,15.2929126 C30.0975219,15.6835613 30.0975219,16.3168024 29.7069347,16.7074511 C29.3163475,17.0975996 28.6835163,17.0975996 28.2929291,16.7069509 L24.4999376,12.9145072 L20.7074455,16.7069509 C20.3168583,17.0975996 19.6835276,17.0975996 19.2929404,16.7074511 C18.9023532,16.3168024 18.9023532,15.6835613 19.2929404,15.2929126 L23.0859319,11.4999687 L19.2929404,7.70752502 C18.9023532,7.31687631 18.9023532,6.68363525 19.2929404,6.29348672 L19.2929404,6.29298653 C19.6835276,5.90233782 20.3168583,5.90233782 20.7074455,6.29298653 L24.4999376,10.0859304 L28.2929291,6.29298653 C28.6835163,5.90233782 29.3163475,5.90233782 29.7069347,6.29298653 L29.7074342,6.29348672 C30.0975219,6.68363525 30.0975219,7.31687631 29.7074342,7.70752502",fill:a})))}f.make=a}),null);
__d("MessengerForeignUserCompanyNameReact.bs",["React","ReasonReact.bs","bs_js_primitive"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ReasonReact.bs").statelessComponent("MessengerForeignUserCompanyNameReact");function a(a,c,d){return[g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],function(){if(c!==undefined){var d={};a!==undefined&&(d.className=b("bs_js_primitive").valFromOption(a));return b("React").createElement("span",d,c)}else return null},g[9],g[10],g[11],g[12]]}f.component=g;f.make=a}),null);
__d("MessengerInfoIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").createElement("svg",{height:"32px",width:"32px",viewBox:"0 0 36 36"},b("React").createElement("g",{id:"info-circle",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},b("React").createElement("g",{id:"Group"},b("React").createElement("polygon",{id:"Fill-8",points:"0 36 36 36 36 0 0 0"}),b("React").createElement("path",{id:"Fill-17",d:"M18,10 C16.6195,10 15.5,11.119 15.5,12.5 C15.5,13.881 16.6195,15 18,15 C19.381,15 20.5,13.881 20.5,12.5 C20.5,11.119 19.381,10 18,10 Z M16,25 C16,25.552 16.448,26 17,26 L19,26 C19.552,26 20,25.552 20,25 L20,18 C20,17.448 19.552,17 19,17 L17,17 C16.448,17 16,17.448 16,18 L16,25 Z M18,30 C11.3725,30 6,24.6275 6,18 C6,11.3725 11.3725,6 18,6 C24.6275,6 30,11.3725 30,18 C30,24.6275 24.6275,30 18,30 Z",fill:a}))))}f.make=a}),null);
__d("MessengerInfoPanelButtonReact.bs",["ix","cx","React","asset","ImageReact.bs","CurrentUser","ReasonReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i={height:"32px",width:"32px"};function j(a){return b("React").createElement("svg",{viewBox:"0 0 64 64"},b("React").createElement("g",undefined,b("React").createElement("g",undefined,b("React").createElement("path",{style:{fill:a},d:"M32,10c-12.2,0-22,9.8-22,22s9.8,22,22,22s22-9.8,22-22S44.2,10,32,10z M32,19c1.6,0,3,1.4,3,3s-1.4,3-3,3 c-1.6,0-3-1.4-3-3S30.4,19,32,19z M36,45h-2h-4h-2v-1h2V29h-2v-1h2h4v1v15h2V45z"}))))}function k(a){var c={fill:a};return b("React").createElement("svg",{style:{stroke:a},viewBox:"0 0 64 64"},b("React").createElement("g",undefined,b("React").createElement("polygon",{style:c,points:"34,44 34,29 34,28 30,28 28,28 28,29 30,29 30,44 28,44 28,45 30,45 34,45 36,45 36,44"}),b("React").createElement("circle",{style:c,cx:"32",cy:"22",r:"3"})),b("React").createElement("path",{style:{fill:"none",stroke:a,strokeMiterlimit:"10",strokeWidth:"2"},d:"M32,11c11.6,0,21,9.4,21,21s-9.4,21-21,21s-21-9.4-21-21S20.4,11,32,11z"}))}function a(a,c){var d=b("CurrentUser").isWorkUser();if(d)return b("React").createElement("div",{className:"_2phz"},b("ReasonReact.bs").element(undefined,undefined,b("ImageReact.bs").make(undefined,undefined,undefined,undefined,c?g("413962"):g("413953"),undefined,undefined,undefined,undefined,[])));else return b("React").createElement("div",{style:i},c?k(a):j(a))}f.svgWrapperStyle=i;f.selected=j;f.notSelected=k;f.make=a}),null);
__d("MessengerPresenceStatusReact.bs",["fbt","React","ReasonReact.bs","bs_js_primitive"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ReasonReact.bs").statelessComponent("MessengerPresenceStatusReact");function i(a,c,d,e,f){return[h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],function(){var f,h=0;c&&e!==undefined?f=g._("Actif sur {platform}",[g._param("platform",e)]):h=1;h===1&&(f=d!==undefined?g._("Actif il y a {time}",[g._param("time",d)]):null);h={};a!==undefined&&(h.className=b("bs_js_primitive").valFromOption(a));return b("React").createElement("div",h,f)},h[9],h[10],h[11],h[12]]}a=b("ReasonReact.bs").wrapReasonForJs(h,function(a){return i(b("bs_js_primitive").nullable_to_opt(a.className),a.isUserActive,b("bs_js_primitive").nullable_to_opt(a.lastActive),b("bs_js_primitive").nullable_to_opt(a.platform),[])});f.component=h;f.make=i;f.jsComponent=a}),null);
__d("MessengerVideoAvailableIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").createElement("svg",{height:"32px",width:"32px",viewBox:"0 0 36 36"},b("React").createElement("g",{id:"camcorder",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},b("React").createElement("polygon",{id:"Fill-8",points:"0 36 36 36 36 0 0 0"}),b("React").createElement("path",{id:"original",d:"M20,27 L9,27 C6.791,27 5,25.209 5,23 L5,13 C5,10.791 6.791,9 9,9 L20,9 C22.209,9 24,10.791 24,13 L24,23 C24,25.209 22.209,27 20,27 M30.5525,23.3995 L26.829,21.536 C26.321,21.282 26,20.762 26,20.193 L26,15.808 C26,15.2395 26.321,14.719 26.829,14.465 L30.5525,12.6015 C31.218,12.269 32,12.753 32,13.497 L32,22.504 C32,23.2485 31.218,23.732 30.5525,23.3995",fill:a})))}f.make=a}),null);
__d("MessengerVideoUnavailableIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").createElement("svg",{height:"32px",width:"32px",viewBox:"0 0 36 36"},b("React").createElement("g",{id:"camcorder-cross",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},b("React").createElement("polygon",{id:"Fill-1",points:"0 36 36 36 36 0 0 0"}),b("React").createElement("path",{id:"original",d:"M6.52219159,23.73575 C6.00847773,24.24975 5.008035,24.00175 5.008035,23.01175 L5.008035,13.00725 C5.008035,10.79725 6.79803794,9.00525 9.00680761,9.00525 L19.1191748,9.00575 C19.9062364,9.00575 20.3005168,9.95775 19.7438269,10.51425 L6.52219159,23.73575 Z M27.1966755,8.70725 L24.589128,11.31625 C24.2143368,11.69125 24.0039539,12.19925 24.0039539,12.72875 L24.0019551,23.01175 C24.0019551,25.22175 22.2149504,27.00675 20.0061808,27.00675 L9.73590149,27.00675 C9.20569683,27.00675 8.69698019,27.21725 8.32218896,27.59225 L5.20642449,30.70925 C4.81614189,31.10025 4.18249484,31.10025 3.79271195,30.70925 C3.40242935,30.31875 3.40242935,29.68575 3.79271195,29.29525 L25.782963,7.29325 C26.1727459,6.90225 26.8063929,6.90225 27.1966755,7.29325 C27.5869581,7.68375 27.5869581,8.31725 27.1966755,8.70725 Z M30.5533058,23.41125 L26.8308793,21.54725 C26.3226624,21.29275 26.0018411,20.77225 26.0018411,20.20375 L26.0018411,15.81625 C26.0018411,15.24725 26.3226624,14.72725 26.8308793,14.47275 L30.5533058,12.60875 C31.2179356,12.27575 32,12.75975 32,13.50425 L32,22.51575 C32,23.25975 31.2179356,23.74425 30.5533058,23.41125 Z",fill:a})))}f.make=a}),null);
__d("MessengerRTCVideoCallButtonReact.bs",["ix","cx","fbt","React","gkx","asset","ImageReact.bs","CurrentUser","ReasonReact.bs","RTWebUserActionLogger","MessengerVideoAvailableIconSVGM4React.bs","MessengerVideoUnavailableIconSVGM4React.bs","VideoCallWebDriverIDs","RTWebLoggingComponent","RTWebLoggingSurface"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j={height:"32px",width:"32px"},k=b("ReasonReact.bs").statelessComponent("MessengerRTCVideoCallButtonReact");function l(a,c,d,e){__p&&__p();return[k[0],k[1],k[2],k[3],function(){b("RTWebUserActionLogger").logImpression({callType:b("RTWebUserActionLogger").getCallType(d),component:b("RTWebLoggingComponent").AUDIO_CALL,surface:b("RTWebLoggingSurface").MESSENGER_HEADER});return 0},k[5],k[6],k[7],function(){__p&&__p();var e=d?i._("D\u00e9marrez une discussion vid\u00e9o de groupe"):i._("D\u00e9marrez une discussion vid\u00e9o"),f=b("React").createElement("div",{"aria-label":e,className:"_2phz"},b("ReasonReact.bs").element(undefined,undefined,b("ImageReact.bs").make(undefined,undefined,undefined,undefined,g("470488"),undefined,e,undefined,undefined,[]))),h;if(b("gkx")("686397"))h=b("React").createElement("div",{"aria-label":e,style:j,title:e},c?b("MessengerVideoAvailableIconSVGM4React.bs").make(a):b("MessengerVideoUnavailableIconSVGM4React.bs").make(a));else{var k=c?a:"#888888";k={clipRule:"evenodd",fill:"none",fillRule:"evenodd",stroke:k,strokeMiterlimit:"10",strokeWidth:"2"};h=b("React").createElement("div",{"aria-label":e,style:j,title:e},b("React").createElement("svg",{style:k,viewBox:"0 0 64 64"},b("React").createElement("title",undefined,e),b("React").createElement("g",undefined,b("React").createElement("g",undefined,b("React").createElement("path",{d:"M47,27.8v7.5l9,4.5V23.2L47,27.8z M37.2,17H13.8C10.6,17,8,19.6,8,22.8v17.4c0,3.2,2.6,5.8,5.8,5.8h23.3\nc3.2,0,5.8-2.6,5.8-5.8V22.8C43,19.6,40.4,17,37.2,17z"})))))}k=b("VideoCallWebDriverIDs").START_VIDEO_CALL;e=b("CurrentUser").isWorkUser();return b("React").cloneElement(e?f:h,{"data-testid":k})},k[9],k[10],k[11],k[12]]}a=b("ReasonReact.bs").wrapReasonForJs(k,function(a){return l(a.customColor,a.isAvailable,a.isGroupChat,[])});f.videoCallWebDriverIDs=b("VideoCallWebDriverIDs");f.rtWebLoggingComponent=b("RTWebLoggingComponent");f.rtWebLoggingSurface=b("RTWebLoggingSurface");f.svgWrapperStyle=j;f.component=k;f.make=l;f.jsComponent=a}),null);
__d("MessengerRTCVoiceCallButtonReact.bs",["ix","cx","fbt","React","gkx","asset","ImageReact.bs","CurrentUser","ReasonReact.bs","RTWebUserActionLogger","MessengerAudioAvailableIconSVGM4React.bs","MessengerAudioUnavailableIconSVGM4React.bs","VideoCallWebDriverIDs","RTWebLoggingComponent","RTWebLoggingSurface"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j={height:"32px",width:"32px"},k=b("ReasonReact.bs").statelessComponent("MessengerRTCVoiceCallButtonReact");function l(a,c,d,e){__p&&__p();return[k[0],k[1],k[2],k[3],function(){b("RTWebUserActionLogger").logImpression({callType:b("RTWebUserActionLogger").getCallType(d),component:b("RTWebLoggingComponent").VIDEO_CALL,surface:b("RTWebLoggingSurface").MESSENGER_HEADER});return 0},k[5],k[6],k[7],function(){__p&&__p();var e=d?i._("D\u00e9marrez un appel de groupe"):i._("D\u00e9marrer un appel vocal"),f=b("React").createElement("div",{"aria-label":e,className:"_2phz"},b("ReasonReact.bs").element(undefined,undefined,b("ImageReact.bs").make(undefined,undefined,undefined,undefined,g("470545"),undefined,e,undefined,undefined,[]))),h;if(b("gkx")("686397"))h=b("React").createElement("div",{"aria-label":e,style:j,title:e},c?b("MessengerAudioAvailableIconSVGM4React.bs").make(a):b("MessengerAudioUnavailableIconSVGM4React.bs").make(a));else{var k=c?a:"#888888";k={clipRule:"evenodd",fill:"none",fillRule:"evenodd",stroke:k,strokeMiterlimit:"10",strokeWidth:"2"};h=b("React").createElement("div",{"aria-label":e,style:j,title:e},b("React").createElement("svg",{style:k,viewBox:"0 0 64 64"},b("React").createElement("title",undefined,e),b("React").createElement("path",{d:"M48.3,50.5c-7.7,6.5-24.2-10-24.5-10.3C23.5,39.9,7,23.4,13.5,15.7c4.8-5.7,6.3-3.4,7-2.7\nc0.6,0.5,5.7,7.8,6,9.2c0.3,1.4-2.4,4.6-2.2,5.9c0.2,1.2,3.6,5,5.1,6.5c1.5,1.5,5.3,4.9,6.5,5.1c1.2,0.2,4.4-2.5,5.9-2.2\nc1.4,0.3,8.7,5.4,9.2,6C51.6,44.2,54,45.7,48.3,50.5z"})))}k=b("VideoCallWebDriverIDs").START_VOICE_CALL;e=b("CurrentUser").isWorkUser();return b("React").cloneElement(e?f:h,{"data-testid":k})},k[9],k[10],k[11],k[12]]}a=b("ReasonReact.bs").wrapReasonForJs(k,function(a){return l(a.customColor,a.isAvailable,a.isGroupChat,[])});f.videoCallWebDriverIDs=b("VideoCallWebDriverIDs");f.rtWebLoggingComponent=b("RTWebLoggingComponent");f.rtWebLoggingSurface=b("RTWebLoggingSurface");f.svgWrapperStyle=j;f.component=k;f.make=l;f.jsComponent=a}),null);
__d("MessengerRTCCallButton.react",["ImmutableObject","Link.react","MercuryIDs","MessengerRTCInvokeHandler","MessengerRTCVideoCallButtonReact.bs","MessengerRTCVoiceCallButtonReact.bs","MNRTCCallabilityStore","React","StoreAndPropBasedStateMixin","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("MessengerRTCVideoCallButtonReact.bs").jsComponent,h=b("MessengerRTCVoiceCallButtonReact.bs").jsComponent;a=b("React").PropTypes;c=b("React").createClass({displayName:"MessengerRTCCallButton",mixins:[b("StoreAndPropBasedStateMixin")(b("MNRTCCallabilityStore"))],statics:{calculateState:function(a){return{isCallable:b("MessengerRTCInvokeHandler").isCallable(a.threadID,a.thread)}}},propTypes:{className:a.string.isRequired,customColor:a.string.isRequired,isVideo:a.bool.isRequired,participants:a.instanceOf(b("immutable").Map).isRequired,thread:a.instanceOf(b("ImmutableObject")).isRequired,threadID:a.string.isRequired,viewer:a.string.isRequired,calleeName:a.string.isRequired},render:function(){var a={customColor:this.props.customColor,isAvailable:this.state.isCallable,isGroupChat:b("MercuryIDs").isGroupChat(this.props.threadID)};return b("React").createElement(b("Link.react"),{className:this.props.className,onClick:this._handleStartCall},this.props.isVideo?b("React").createElement(g,a):b("React").createElement(h,a))},_handleStartCall:function(a){a.preventDefault(),b("MessengerRTCInvokeHandler").handleStartCall(this.props.threadID,this.props.thread,this.props.isVideo,this.props.viewer,this.props.participants,this.props.calleeName,this.state.isCallable)}});e.exports=c}),null);
__d("MessengerRTCCallButtonReact.bs",["ReasonReact.bs","MessengerRTCCallButton.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j){return b("ReasonReact.bs").wrapJsForReason(b("MessengerRTCCallButton.react"),{className:a,customColor:c,isVideo:d,participants:e,thread:f,threadID:g,viewer:h,calleeName:i},j)}f.make=a}),null);
__d("MontageThreadViewContainer.react",["CurrentUser","JSResource","Placeholder.react","React","gkx","immutable","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("lazyLoadComponent")(b("JSResource")("MessengerStateMontageThreadView.react").__setRef("MontageThreadViewContainer.react")),i=b("lazyLoadComponent")(b("JSResource")("MontageThreadViewContainerImpl.react").__setRef("MontageThreadViewContainer.react"));g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.render=function(){__p&&__p();if(b("gkx")("678586")&&!this.props.shouldUseRelay){var a=b("CurrentUser").getID();if(this.props.montageData!=null&&this.props.participants!=null){var c=this.props.montageData,d=this.props.participants;d=Array.from(d.values()).map(function(a){return a.fbid!=null?a.fbid:""}).filter(function(b){return b!==a});var e=d.length===0;e=e?c[a]:c[d[0]];return b("React").createElement(b("Placeholder.react"),{fallback:b("React").createElement("div",null)},b("React").createElement(h,{montageData:e?e:[]}))}return b("React").createElement(b("Placeholder.react"),{fallback:b("React").createElement("div",null)},b("React").createElement(h,{montageData:[]}))}return b("React").createElement(b("Placeholder.react"),{fallback:b("React").createElement("div",null)},b("React").createElement(i,this.props))};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("MontageThreadViewContainerReact.bs",["ReasonReact.bs","bs_js_null_undefined","MontageThreadViewContainer.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g){return b("ReasonReact.bs").wrapJsForReason(b("MontageThreadViewContainer.react"),{threadID:a,montageData:c,onResize:b("bs_js_null_undefined").fromOption(f),participants:d,shouldUseRelay:e},g)}f.make=a}),null);
__d("WorkChatDoNotDisturbStatusReact.bs",["ReasonReact.bs","WorkChatDoNotDisturbStatus"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f){var g=b("WorkChatDoNotDisturbStatus").component;if(g==null){var h=b("ReasonReact.bs").statelessComponent("WorkChatDoNotDisturbStatusReact.re");return[h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],function(){return null},h[9],h[10],h[11],h[12]]}else return b("ReasonReact.bs").wrapJsForReason(g,{className:a,thread:c,isDoNotDisturb:d,description:e},f)}f.make=a}),null);
__d("messengerCalculateTruncationState",["Style"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f){__p&&__p();if(!e||!c)return;f=f?f.offsetWidth:0;e=Math.ceil(.5*(a.offsetWidth+e.offsetWidth));var g=a.offsetWidth-d.offsetWidth-12;if(e<=g)b("Style").set(a,"text-align","center"),b("Style").set(c,"width","auto"),b("Style").set(c,"margin-left","auto");else{document.body.dir==="rtl"?b("Style").set(a,"text-align","right"):(b("Style").set(a,"text-align","left"),b("Style").set(c,"margin-left",f+"px"));e=Math.max(a.offsetWidth-f-d.offsetWidth-11,0);b("Style").set(c,"width",e+"px")}}e.exports=a}),null);
__d("MessengerDetailViewHeaderReact.bs",["cx","fbt","FBID.bs","bs_curry","Event","React","gkx","Bootload.bs","ReactDOM","debounce","LinkReact.bs","Bootloader","bs_belt_Option","CurrentUser","ReasonReact.bs","FBRTCSupport","bs_js_primitive","MercuryConfig","MessengerDomIDs.bs","bs_js_null_undefined","MercuryThreadInfo","ArchiveWarningReact.bs","MessageRequestUtils","WorkForeignEntityInfo.bs","MercuryParticipantTypes","MercuryThreadTitleReact.bs","MessengerLocalTimeReact.bs","MessengerCustomColorUtils.bs","MessengerJoinableModeType","MessengerThreadImageReact.bs","MessengerWebDriverTestIDs","MessengerInfoIconSVGM4React.bs","MessengerRTCCallButtonReact.bs","MessengerPresenceStatusReact.bs","MessengerInfoPanelButtonReact.bs","MontageThreadViewContainerReact.bs","WorkChatDoNotDisturbStatusReact.bs","messengerCalculateTruncationState","MessengerForeignUserCompanyNameReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){b("Bootloader").loadModules(["BootloadableMessengerUserControlsButtonReact.bs"],a,"MessengerDetailViewHeaderReact.bs");return 0}c=[a];var i=b("Bootload.bs").Create(c);function j(a){var c=b("bs_js_null_undefined").fromOption(a[0][0]),d=b("bs_js_null_undefined").fromOption(a[1][0]),e=b("bs_js_null_undefined").fromOption(a[2][0]),f=b("bs_js_null_undefined").fromOption(a[3][0]);a=b("bs_js_null_undefined").fromOption(a[4][0]);return b("messengerCalculateTruncationState")(c,d,e,f,a)}function k(a,c){c[1][3][0]=a==null?undefined:b("bs_js_primitive").some(b("ReactDOM").findDOMNode(a));return 0}function l(a,c){c[1][1][0]=a==null?undefined:b("bs_js_primitive").some(a);return 0}function m(a,c){c[1][0][0]=a==null?undefined:b("bs_js_primitive").some(a);return 0}function n(a,c){c[1][2][0]=a==null?undefined:b("bs_js_primitive").some(a);return 0}function o(a,c){c[1][4][0]=a==null?undefined:b("bs_js_primitive").some(a);return 0}function p(a,c,d,e){if(a.has_montage&&b("MercuryConfig").MontageThreadViewer)return b("React").createElement("div",{ref:b("bs_curry")._1(e[0],o),className:"_1cwz"},b("ReasonReact.bs").element(undefined,undefined,b("MontageThreadViewContainerReact.bs").make(a.thread_id,c,d,!1,undefined,[])));else return null}function q(a,c,d,e){__p&&__p();if(b("CurrentUser").isWorkUser()||a===undefined)return null;else{a=b("bs_js_primitive").valFromOption(a);var f=a.contact.user_type===b("MercuryParticipantTypes").PAGE;if(f){f=e[1][5][0];if(f!==undefined){e=a.contact.is_messenger_blocked;a=a.contact.fbid;f=b("ReasonReact.bs").element(undefined,undefined,b("bs_curry")._7(f[8],"_3xb9 _30yy",b("MercuryThreadInfo").isMuted(c),e,a,c.thread_id,d,[]))}else f=null;return b("React").createElement("li",undefined,f)}else return null}}function r(a,c){c=c.filter(function(b,c,d){if(b==null)return!1;else return b.fbid!==a});var d=c.count();c=c.first();if(d!==1||c==null)return null;else return b("ReasonReact.bs").element(undefined,undefined,b("MessengerLocalTimeReact.bs").make("_5eu7",b("bs_js_primitive").nullable_to_opt(c.timezone),[]))}function s(a,c){__p&&__p();var d=!b("FBRTCSupport").isMobileDevice();a=a!==undefined?b("bs_js_primitive").valFromOption(a).contact.user_type===b("MercuryParticipantTypes").PAGE:!1;var e=c!==undefined?b("bs_js_primitive").valFromOption(c).joinable_mode===b("MessengerJoinableModeType").JOINABLE:!1;if(c!==undefined){var f=b("bs_js_primitive").valFromOption(c);f=f.participants.length>1&&b("MercuryThreadInfo").canReply(f)&&!b("MessageRequestUtils").isMessageRequest(f)}else f=!1;c=c!==undefined?b("bs_js_primitive").valFromOption(c).thread_type===5:!1;if(d&&!a&&!e&&f)return!c;else return!1}var t=b("gkx")("686397")?"_17w2 _6ybr":"_17w2",u=b("gkx")("686397")?"_5743 _6y4y":"_5743",v=b("gkx")("686397")?"_fl2 _6ymr":"_fl2",w=b("ReasonReact.bs").reducerComponent("MessengerDetailViewHeaderReact");function x(a,c,d,e,f,g,o,x,y){__p&&__p();var z=function(c){if(s(a,g)&&g!==undefined){var d=b("bs_js_primitive").valFromOption(g),e=d.thread_id;return b("React").createElement("li",undefined,b("ReasonReact.bs").element(undefined,undefined,b("MessengerRTCCallButtonReact.bs").make("_30yy",b("MessengerCustomColorUtils.bs").customColorOrBlue(d),!1,f,d,e,c,a!==undefined?b("bs_js_primitive").valFromOption(a).contact.name:"",[])))}else return null},A=function(c){__p&&__p();if(s(a,g)&&g!==undefined){var d=b("bs_js_primitive").valFromOption(g),e=d.thread_id;if(a!==undefined){var h=b("bs_js_primitive").valFromOption(a).isUserActive;h=h?"_3qfl":""}else h="";return b("React").createElement("li",undefined,b("ReasonReact.bs").element(undefined,undefined,b("MessengerRTCCallButtonReact.bs").make("_30yy",b("MessengerCustomColorUtils.bs").customColorOrBlue(d),!0,f,d,e,c,a!==undefined?b("bs_js_primitive").valFromOption(a).contact.name:"",[])),b("React").createElement("div",{className:h}))}else return null};if(a!==undefined){y=b("bs_js_primitive").valFromOption(a).availabilityStatusData;y=y==null?[!1,""]:[y.isDoNotDisturb,y.description]}else y=[!1,""];var B=y[1],C=y[0],D=a!==undefined?!b("WorkForeignEntityInfo.bs").isCoworker(b("bs_js_primitive").valFromOption(a).contact):!1,E=function(){var a=b("gkx")("678573");if(a)return b("ReasonReact.bs").element(undefined,undefined,b("WorkChatDoNotDisturbStatusReact.bs").make("_6f6k",b("bs_js_null_undefined").fromOption(g),C,B,[]));else return null},F=function(){if(a!==undefined){var c=b("bs_js_primitive").valFromOption(a);return[!0,b("ReasonReact.bs").element(undefined,undefined,b("MessengerPresenceStatusReact.bs").make("_2v6o",c.isUserActive,b("bs_js_primitive").nullable_to_opt(c.lastActive),b("bs_js_primitive").nullable_to_opt(c.platform),[]))]}else return[!1,null]},G=function(){if(!b("CurrentUser").isWorkUser()||!D||a===undefined)return[!1,null];else{var c=b("bs_js_primitive").valFromOption(a),d=c.contact.company_name;if(d==null)return[!1,null];else return[!0,b("ReasonReact.bs").element(undefined,undefined,b("MessengerForeignUserCompanyNameReact.bs").make("_6krh",b("bs_js_primitive").nullable_to_opt(c.contact.company_name),[]))]}};return[w[0],w[1],w[2],w[3],function(a){__p&&__p();if(!b("gkx")("686397")){var c=b("Event").listen(window,"resize",b("debounce")(function(){return j(a[1])},20));b("bs_curry")._1(a[4],function(){return c.remove()})}return b("bs_curry")._1(i[0],function(b){var c=a;b=b;c[1][5][0]=b;return 0})},function(a){if(b("gkx")("686397"))return 0;else return j(a[1][1])},w[6],w[7],function(i){if(o!==undefined&&g!==undefined){var j=b("bs_js_primitive").valFromOption(g),s=b("bs_js_primitive").valFromOption(o),w=!f.isEmpty()&&f.every(function(b,a,c){if(b==null)return!1;else return b.employee}),B=h._("Informations sur la conversation"),H=F(0),I=H[0],J=G(0),K=E(0),L=b("MessengerCustomColorUtils.bs").customColorOrBlue(j);return b("React").createElement("div",{ref:b("bs_curry")._1(i[0],m),className:"_673w"+(b("gkx")("686397")?" _6ynl":"")+(!J[0]&&(!I||C)?" _1_fz":"")},p(j,x,f,i),b("React").createElement("div",{key:"threadTitle",ref:b("bs_curry")._1(i[0],l),className:u},b("gkx")("686397")?b("ReasonReact.bs").element(undefined,undefined,b("MessengerThreadImageReact.bs").make("_6ynm",undefined,undefined,undefined,40,f,j,s,[])):null,b("React").createElement("div",{className:b("gkx")("686397")?"_6ynn":""},b("React").createElement("h2",{className:t,id:b("MessengerDomIDs.bs").ids.THREAD_TITLE},K,b("ReasonReact.bs").element(undefined,b("bs_curry")._1(i[0],k),b("MercuryThreadTitleReact.bs").make("_3oh-",b("bs_belt_Option").getWithDefault(d,0),j,s,undefined,undefined,undefined,undefined,[]))),C||!I||b("CurrentUser").isWorkUser()&&D?null:H[1],r(s,f),J[1])),b("React").createElement("ul",{key:"buttonsContainer",ref:b("bs_curry")._1(i[0],n),className:v},b("React").createElement("li",undefined,b("ReasonReact.bs").element(undefined,undefined,b("ArchiveWarningReact.bs").make(w,[]))),q(a,j,s,i),z(s),A(s),b("React").createElement("li",undefined,b("React").cloneElement(b("ReasonReact.bs").element(undefined,undefined,b("LinkReact.bs").make(!c,undefined,B,"_30yy",undefined,undefined,undefined,undefined,undefined,undefined,undefined,e,undefined,undefined,"button",undefined,undefined,undefined,undefined,B,[])),{"data-testid":b("MessengerWebDriverTestIDs").INFO_PANEL_BUTTON},b("gkx")("686397")?c?b("React").createElement("div",{className:"_6yms"},b("MessengerInfoIconSVGM4React.bs").make(L)):b("React").createElement("div",{className:"_6yms"},b("React").createElement("div",{className:"_6y4z",style:{backgroundColor:b("MessengerCustomColorUtils.bs").customColorOrBlue(j)}}),b("MessengerInfoIconSVGM4React.bs").make(L)):b("MessengerInfoPanelButtonReact.bs").make(L,c)),b("React").createElement("div",{"aria-owns":b("MessengerDomIDs.bs").ids.THREAD_INFO_PANEL}))))}else return null},function(){return[[undefined],[undefined],[undefined],[undefined],[undefined],[undefined]]},w[10],function(a,b){return 0},w[12]]}d=b("ReasonReact.bs").wrapReasonForJs(w,function(a){return x(b("bs_js_primitive").nullable_to_opt(a.contactData),a.infoPanelCollapsed,b("bs_js_primitive").nullable_to_opt(a.maxTitle),a.onInfoPanelToggle,a.participants,b("bs_js_primitive").nullable_to_opt(a.thread),b("FBID.bs").ofString(a.viewer),a.montageData,[])});f.BootloadableMessengerUserControlsButtonReact=c;f.LoadableMessengerUserControlsButtonReact=i;f.calculateTruncationState=j;f.findMercuryTitle=k;f.findTitle=l;f.findRoot=m;f.findButtons=n;f.findMontage=o;f.renderMontageThread=p;f.renderUserControls=q;f.renderLocalTime=r;f.shouldShowCallButton=s;f.titleElemClasses=t;f.titleClasses=u;f.buttonsContainerClasses=v;f.component=w;f.make=x;f.jsComponent=d}),null);
__d("WorkChatActivityTypedLogger.bs",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();switch(a){case 0:return"group_sync_new_post_button_click";case 1:return"notifs_jewel_links_click";case 2:return"nav_tab_click";case 3:return"info_panel_profile_link_click";case 4:return"notifs_jewel_click";case 5:return"info_panel_group_sync_top_link_click";case 6:return"info_panel_group_sync_about_link_click";case 7:return"info_panel_group_sync_posts_link_click";case 8:return"info_panel_group_sync_saved_link_click";case 9:return"info_panel_group_sync_events_link_click"}}f.string_of_event=a}),null);
__d("WorkChatCustomMenuItem",["cx","CSS","DOM","MenuItem","React","ReactDOM","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=["href","rel","ajaxify","target","accesskey"];function j(a,c){var d={};i.forEach(function(a){c[a]&&(d[a]=c[a])});b("DOM").setAttributes(a,d)}c=babelHelpers.inherits(a,b("MenuItem"));h=c&&c.prototype;function a(a){h.constructor.call(this,a)}a.prototype._renderItemContent=function(){__p&&__p();this._anchor=b("DOM").create(this._data.renderas==="label"?"label":"a",{className:"_54nc"+(this._data.icon?" _54nu":"")});if(this._data.children){var a=this._data.icon?b("React").cloneElement(this._data.icon,{className:b("joinClasses")(this._data.icon.props.className,"mrs")}):null;b("ReactDOM").render(b("React").createElement("div",null,a,b("React").createElement("div",{className:"_54nh"},this._data.children)),this._anchor);this._data.label=this._anchor.innerText||this._anchor.textContent}else{a=b("DOM").create("div",null,b("DOM").create("div",{className:"_54nh"},this._data.markup||this._data.label));this._data.icon&&b("DOM").prependContent(a,this._data.icon);b("DOM").setContent(this._anchor,a)}this._data.href||(this._data.href="#");this.isDisabled()||j(this._anchor,this._data);b("DOM").setAttributes(this._anchor,this.__getAttributesFromData());this._anchor.setAttribute("role",this._ARIARole);return this._anchor};a.prototype.render=function(){var a=h.render.call(this);b("CSS").addClass(a,"_1ydp");this._disabled&&b("CSS").addClass(a,"_5arm");return a};e.exports=a}),null);
__d("MessengerSortParticipants",[],(function(a,b,c,d,e,f){a={sortAlphabeticalWithAdmins:function(a,b){var c=b.filter(function(b){return!!b&&a&&a.indexOf(b.fbid)!==-1}).toArray().sort(function(a,b){return a.name.localeCompare(b.name)});b=b.filter(function(b){return!!b&&(!a||a.indexOf(b.fbid)===-1)}).toArray().sort(function(a,b){return a.name.localeCompare(b.name)});return c.concat(b)}};e.exports=a}),null);
__d("MessagingThreadCustomizationSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADMIN_MSG_CHANGE_LINK:"admin_msg",THREAD_INLINE:"thread_inline",JOURNEY_PROMPT:"journey_prompt",JOURNEY_PROMPT_WRITE_IN:"journey_prompt_write_in",PROMO_LINK:"promo_link",SETTINGS:"thread_settings",USER_INFO_ACTION_SHEET:"user_info_action_sheet",ROOM_CREATION:"room_creation",DELETE_ALL_SETTING:"delete_all_setting",RELATIONSHIP_STATUS_UPDATE:"relationship_status_update",TESTBOT:"testbot",SET_FROM_MESSAGE:"set_from_message",GROUP_NULL_STATE:"group_null_state"})}),null);
__d("WorkUserDoNotDisturbSettingsEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IMPRESSION:"impression",TURN_OFF:"turn_off",TURN_ON:"turn_on"})}),null);
__d("WorkUserDoNotDisturbSettingsSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BLUE_BAR_MODERN_MENU:"blue_bar_modern_menu",BOOKMARK_NAV_MENU:"bookmark_nav_menu",WORKPLACE_CHAT_MENU:"workplace_chat_menu"})}),null);